/*! For license information please see forum.js.LICENSE.txt */
(()=>{var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{"use strict";const t=flarum.reg.get("core","forum/app");var n=e.n(t);const o=flarum.reg.get("core","common/extend"),i=flarum.reg.get("core","forum/components/CommentPost");var s=e.n(i);const l=flarum.reg.get("core","forum/components/DiscussionListItem");var r=e.n(l);const a=flarum.reg.get("core","common/models/Discussion");var c=e.n(a);const u=flarum.reg.get("core","common/Model");var d=e.n(u);const f=e=>"string"==typeof e,g=e=>e&&null!==e&&e instanceof Element&&"nodeType"in e,v=function(e,t){return void 0===t&&(t=void 0),!e||e===document.body||t&&e===t?null:function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;const t=e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth,n=window.getComputedStyle(e).overflowY,o=-1!==n.indexOf("hidden"),i=-1!==n.indexOf("visible");return t&&!o&&!i}(e)?e:v(e.parentElement,t)},p=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}let o=t.firstChild;return!o||o instanceof HTMLElement?o:((n=document.createElement("div")).appendChild(o),n)},h=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),Math.max(Math.min(t,n),e)},y=e=>"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e);function b(e){return y(e)||Array.isArray(e)}function E(e,t){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((n=>{const o=e[n],i=t[n];return"function"==typeof o?`${o}`==`${i}`:b(o)&&b(i)?E(o,i):o===i}))}const w=function(e){for(const t of L)t.getState()===x.Running&&t.tick(T?e-T:0);T=e,O=window.requestAnimationFrame(w)};var x,M,S;!function(e){e[e.Initializing=0]="Initializing",e[e.Running=1]="Running",e[e.Paused=2]="Paused",e[e.Completed=3]="Completed",e[e.Destroyed=4]="Destroyed"}(x||(x={})),function(e){e[e.Spring=0]="Spring",e[e.Ease=1]="Ease"}(M||(M={})),function(e){e[e.Loop=0]="Loop",e[e.Reverse=1]="Reverse"}(S||(S={}));const L=new Set;let O=null,T=0;function P(){let e=x.Initializing,t=M.Ease,n=0,o=0,i=P.Easings.Linear,s=500,l=0,r=0,a=0,c=0,u=1/0,d=.01,f=.01,g=!1,v={},m=null,p={},y={},b={},T=0,A=0,C=S.Loop,R=P.Easings.Linear;const j=new Map;function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(const t of j.get(e)||[])t(...n)}function k(e){return o=0,e?m=setTimeout((()=>{I()}),e):I(),$}function I(){e=x.Running,z("start",p,y)}function F(){if(e=x.Completed,b={},z("end",p),e===x.Completed)if(n<T){if(n++,C===S.Reverse){const e=Object.assign({},v);v=Object.assign({},y),y=e}k(A)}else n=0;return $}const $={getState:function(){return e},easing:function(e){return i=e,t=M.Ease,b={},$},duration:function(e){return s=e,$},spring:function(e){void 0===e&&(e={}),t=M.Spring;const{velocity:n,mass:o,tension:i,friction:s,restDelta:v,restSpeed:m,maxSpeed:p,clamp:h}=Object.assign(Object.assign({},{velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0}),e);return l=n,r=o,a=i,c=s,f=v,d=m,u=p,g=h,b={},$},isRunning:function(){return e===x.Running},isSpring:function(){return t===M.Spring},from:function(e){return p=Object.assign({},e),$},to:function(e){return y=e,$},repeat:function(e,t,n,o){return void 0===t&&(t=0),void 0===n&&(n=S.Loop),T=e,A=t,C=n,R=o||i,$},on:function(e,t){var n,o;return n=e,o=t,j.set(n,[...j.get(n)||[],o]),$},off:function(e,t){var n,o;return n=e,o=t,j.has(n)&&j.set(n,j.get(n).filter((e=>e!==o))),$},start:function(t){return E(p,y)||(e=x.Initializing,v=Object.assign({},p),L.add(this),O||(O=window.requestAnimationFrame(w)),k(t)),$},pause:function(){return m&&(clearTimeout(m),m=null),e===x.Running&&(e=x.Paused,z("pause",p)),$},end:F,tick:function(n){n>50&&(n=50),o+=n;let m=0,w=!1;if(e!==x.Running)return $;if(t===M.Ease){m=h(0,o/s,1),w=1===m;const e=C===S.Reverse?R:i;for(const t in p)p[t]=v[t]+(y[t]-v[t])*e(m)}if(t===M.Spring){const e=.001*n;let t=0;for(const n in p){const o=y[n];let i=p[n];if("number"!=typeof o||isNaN(o)||"number"!=typeof i||isNaN(i))continue;if(Math.abs(o-i)<=f){p[n]=o,b[n]=0;continue}b[n]||("object"==typeof l&&"number"==typeof l[n]?b[n]=l[n]:b[n]="number"==typeof l?l:0);let s=b[n];s=h(-1*Math.abs(u),s,Math.abs(u));const v=s*r*c;s+=((i>o?-1:1)*(Math.abs(o-i)*a)-v)/r*e,i+=s*e;const m=p[n]>o?i<o:i>o;let E=Math.abs(s)<d&&Math.abs(o-i)<=f;g&&m&&(E=!0),E?(i=o,s=0):t++,p[n]=i,b[n]=s}w=!t}const L=Object.assign({},y);return z("step",p,v,y,m),w&&e===x.Running&&E(y,L)&&(e=x.Completed,F()),$},getStartValues:function(){return v},getCurrentValues:function(){return p},getCurrentVelocities:function(){return b},getEndValues:function(){return y},destroy:function(){e=x.Destroyed,m&&(clearTimeout(m),m=null),v=p=y={},L.delete(this)}};return $}function A(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function C(e,t){const n=[],o=A(e)?e[t]:e instanceof MouseEvent&&("changedTouches"===t||"mouseup"!==e.type)?[e]:[];for(const e of o)n.push({x:e.clientX,y:e.clientY,ts:Date.now()});return n}function R(e){return C(e,"touches")}function j(e){return C(e,"targetTouches")}function z(e){return C(e,"changedTouches")}function k(e){const t=e[0],n=e[1]||t;return{x:(t.x+n.x)/2,y:(t.y+n.y)/2,ts:n.ts}}function I(e){const t=e[0],n=e[1]||e[0];return t&&n?-1*Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)):0}P.destroy=()=>{for(const e of L)e.destroy();O&&(cancelAnimationFrame(O),O=null)},P.Easings={Linear:function(e){return e},EaseIn:function(e){return 0===e?0:Math.pow(2,10*e-10)},EaseOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},EaseInOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};const F=e=>{e.cancelable&&e.preventDefault()},$={passive:!1},_={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let H=!1,D=!0;const V=(e,t)=>{let n,o,i,s=Object.assign(Object.assign({},_),t),l=[],r=[],a=[],c=!1,u=!1,d=!1,f=!1,g=0,v=0,m=0,p=0,h=0,y=0,b=0,E=0,w=0,x=[],M=0,S=0;const L=new Map;function O(e){const t=I(r),s=I(a),d=t&&s?t/s:0,f=Math.abs(b)>Math.abs(E)?b:E,g={srcEvent:n,isPanRecognized:c,isSwipeRecognized:u,firstTouch:l,previousTouch:a,currentTouch:r,deltaX:m,deltaY:p,offsetX:h,offsetY:y,velocityX:b,velocityY:E,velocity:f,angle:w,axis:i,scale:d,center:o};for(const t of L.get(e)||[])t(g)}function T(e){const t=e.target,n=e.composedPath()[0],o=s.ignore.join(","),i=e=>e&&(e.matches(o)||e.closest(o));if(i(t)||i(n))return!1}function P(e){const t=Date.now();if(x=x.filter((e=>!e.ts||e.ts>t-100)),e&&x.push(e),b=0,E=0,x.length>3){const e=x[0],t=x[x.length-1];if(e&&t){const n=t.x-e.x,o=t.y-e.y,i=e.ts&&t.ts?t.ts-e.ts:0;i>0&&(b=Math.abs(n)>3?n/(i/30):0,E=Math.abs(o)>3?o/(i/30):0)}}}function A(e){if(!1===T(e))return;if("undefined"!=typeof MouseEvent&&e instanceof MouseEvent){if(H)return}else H=!0;if("undefined"!=typeof MouseEvent&&e instanceof MouseEvent){if(!e.buttons||0!==e.button)return;F(e)}e instanceof MouseEvent&&(window.addEventListener("mousemove",C),window.addEventListener("mouseup",V)),window.addEventListener("blur",q),n=e,r=j(e),l=[...r],a=[],v=r.length,o=k(r),1===v&&(c=!1,u=!1,d=!1),v&&P(k(r));const t=Date.now(),i=t-(g||t);f=i>0&&i<=250&&1===v,g=t,clearTimeout(M),O("start")}function C(e){var t;if(!l.length)return;if(e.defaultPrevented)return;if(!1===T(e))return;n=e,a=[...r],r=R(e);const u=k(a),f=k(R(e));if(P(f),v=r.length,o=f,a.length===r.length?(m=f.x-u.x,p=f.y-u.y):(m=0,p=0),l.length){const e=k(l);h=f.x-e.x,y=f.y-e.y}if(r.length>1){const e=I(r),t=I(a);Math.abs(e-t)>=.1&&(d=!0,O("pinch"))}c||(c=Math.abs(h)>s.panThreshold||Math.abs(y)>s.panThreshold,c&&(D=!1,clearTimeout(S),S=0,w=Math.abs(180*Math.atan2(y,h)/Math.PI),i=w>45&&w<135?"y":"x",l=[...r],a=[...r],h=0,y=0,m=0,p=0,null===(t=window.getSelection())||void 0===t||t.removeAllRanges(),O("panstart"))),c&&(m||p)&&O("pan"),O("move")}function V(e){if(n=e,!l.length)return;const t=j(e),i=z(e);if(v=t.length,o=k(i),i.length&&P(k(i)),a=[...r],r=[...t],l=[...t],v>0)O("end"),c=!1,u=!1,x=[];else{const e=s.swipeThreshold;(Math.abs(b)>e||Math.abs(E)>e)&&(u=!0),c&&O("panend"),u&&O("swipe"),c||u||d||(O("tap"),f?O("doubleTap"):M=setTimeout((function(){O("singleTap")}),250)),O("end"),N()}}function q(){clearTimeout(M),N(),c&&O("panend"),O("end")}function N(){H=!1,c=!1,u=!1,f=!1,v=0,x=[],r=[],a=[],l=[],m=0,p=0,h=0,y=0,b=0,E=0,w=0,i=void 0,window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",V),window.removeEventListener("blur",q),D||S||(S=setTimeout((()=>{D=!0,S=0}),100))}function W(e){const t=e.target;H=!1,t&&!e.defaultPrevented&&(D||(F(e),e.stopPropagation()))}const B={init:function(){return e&&(e.addEventListener("click",W,$),e.addEventListener("mousedown",A,$),e.addEventListener("touchstart",A,$),e.addEventListener("touchmove",C,$),e.addEventListener("touchend",V),e.addEventListener("touchcancel",V)),B},on:function(e,t){return function(e,t){L.set(e,[...L.get(e)||[],t])}(e,t),B},off:function(e,t){return L.has(e)&&L.set(e,L.get(e).filter((e=>e!==t))),B},isPointerDown:()=>v>0,destroy:function(){clearTimeout(M),clearTimeout(S),S=0,e&&(e.removeEventListener("click",W,$),e.removeEventListener("mousedown",A,$),e.removeEventListener("touchstart",A,$),e.removeEventListener("touchmove",C,$),e.removeEventListener("touchend",V),e.removeEventListener("touchcancel",V)),e=null,N()}};return B};V.isClickAllowed=()=>D;const q={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",TOGGLE_FS:"Toggle fullscreen"},N=function(e,t){void 0===t&&(t=""),e&&e.classList&&t.split(" ").forEach((t=>{t&&e.classList.add(t)}))},W=function(e,t){void 0===t&&(t=""),e&&e.classList&&t.split(" ").forEach((t=>{t&&e.classList.remove(t)}))},B=function(e,t,n){void 0===t&&(t=""),e&&e.classList&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,n||!1)}))},Z=e=>{e.cancelable&&e.preventDefault()},G=function(e,t){return void 0===t&&(t=1e4),e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t},Y=e=>e instanceof HTMLImageElement;var X,U,K;(K=X||(X={})).Reset="reset",K.Zoom="zoom",K.ZoomIn="zoomIn",K.ZoomOut="zoomOut",K.ZoomTo="zoomTo",K.ToggleCover="toggleCover",K.ToggleFull="toggleFull",K.ToggleMax="toggleMax",K.IterateZoom="iterateZoom",K.Pan="pan",K.Swipe="swipe",K.Move="move",K.MoveLeft="moveLeft",K.MoveRight="moveRight",K.MoveUp="moveUp",K.MoveDown="moveDown",K.RotateCCW="rotateCCW",K.RotateCW="rotateCW",K.FlipX="flipX",K.FlipY="flipY",K.ToggleFS="toggleFS",function(e){e.Cover="cover",e.Full="full",e.Max="max"}(U||(U={}));const J={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},Q={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:X.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:q,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:X.Zoom,width:"auto"};let ee,te=0,ne=0,oe=0;const ie=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});let o,i,s,l,r,a,c,u,d=0,m=Object.assign(Object.assign({},Q),t),y={},b=Object.assign({},J),w=Object.assign({},J);const x=[];function M(e){let t=m[e];return t&&"function"==typeof t?t(Se):t}function S(){return e&&e.parentElement&&o&&3===d}const L=new Map;function O(e){const t=[...L.get(e)||[]];m.on&&t.push(m.on[e]);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];for(const e of t)e&&e instanceof Function&&e(Se,...o);"*"!==e&&O("*",e,...o)}function T(e){if(!S())return;const t=e.target;if(v(t))return;const n=Date.now(),o=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),i=h(-1,o,1);O("wheel",e,i);const s=M("wheelAction");if(!s)return;if(e.defaultPrevented)return;const l=w.scale;let r=l*(i>0?1.5:.5);if(s===X.Zoom){const t=Math.abs(e.deltaY)<100&&Math.abs(e.deltaX)<100;if(n-ne<(t?200:45))return void Z(e);ne=n;const o=U(),s=le();if(G(r)<G(o)&&G(l)<=G(o)?(oe+=Math.abs(i),r=o):G(r)>G(s)&&G(l)>=G(s)?(oe+=Math.abs(i),r=s):(oe=0,r=h(o,r,s)),oe>7)return}switch(Z(e),s){case X.Pan:ue(s,{srcEvent:e,deltaX:2*-e.deltaX,deltaY:2*-e.deltaY});break;case X.Zoom:ue(X.ZoomTo,{srcEvent:e,scale:r,center:{x:e.clientX,y:e.clientY}});break;default:ue(s,{srcEvent:e})}}function A(t){var n,i;const s=t.composedPath()[0];if(!V.isClickAllowed())return;if(!g(s)||t.defaultPrevented)return;if(!(null==e?void 0:e.contains(s)))return;if(s.hasAttribute("disabled")||s.hasAttribute("aria-disabled")||s.hasAttribute("data-carousel-go-prev")||s.hasAttribute("data-carousel-go-next"))return;const l=s.closest("[data-panzoom-action]"),r=null===(n=null==l?void 0:l.dataset)||void 0===n?void 0:n.panzoomAction,a=(null===(i=null==l?void 0:l.dataset)||void 0===i?void 0:i.panzoomValue)||"";if(r){switch(Z(t),r){case X.ZoomTo:case X.ZoomIn:case X.ZoomOut:ue(r,{scale:parseFloat(a||"")||void 0});break;case X.MoveLeft:case X.MoveRight:ue(r,{deltaX:parseFloat(a||"")||void 0});break;case X.MoveUp:case X.MoveDown:ue(r,{deltaY:parseFloat(a||"")||void 0});break;case X.ToggleFS:xe();break;default:ue(r)}return}if(!(null==o?void 0:o.contains(s)))return;const c={srcEvent:t};if(ue(M("clickAction"),c),M("dblClickAction")){const e=Date.now(),t=e-(te||e);te=e,t>0&&t<=250?(ee&&(clearTimeout(ee),ee=void 0),ue(M("dblClickAction"),c)):ee=setTimeout((()=>{ue(M("singleClickAction"),c)}),250)}}function C(e){if(u=e,!S()||!H())return;if(b.scale<=1||w.scale<=1)return;if(((null==o?void 0:o.dataset.animationName)||"").indexOf("zoom")>-1)return;const t=D(w.scale);if(!t)return;const{x:n,y:i}=t;ue(X.Pan,{deltaX:n-w.x,deltaY:i-w.y})}function R(){var t;e&&(W(e,"is-loading"),null===(t=e.querySelector(".f-spinner"))||void 0===t||t.remove())}function j(){if(!e||!i)return;if(R(),Y(i)&&(!i.complete||!i.naturalWidth))return d=2,null==o||o.classList.add("has-error"),void O("error");O("loaded");const{width:t,height:n}=$();Y(i)&&(i.setAttribute("width",t+""),i.setAttribute("height",n+"")),o&&(W(o,"has-error"),Y(i)&&(o.setAttribute("width",t+""),o.setAttribute("height",n+""),o.style.aspectRatio=`${t/n||""}`)),a=P().on("start",((e,t)=>{void 0!==t.angle&&(t.angle=90*Math.round(t.angle/90)),void 0!==t.flipX&&(t.flipX=t.flipX>0?1:-1),void 0!==t.flipY&&(t.flipY=t.flipY>0?1:-1),w=Object.assign(Object.assign({},J),t),ce(),O("animationStart")})).on("pause",(e=>{w=Object.assign(Object.assign({},J),e)})).on("step",(e=>{if(!S())return void(null==a||a.end());if(b=Object.assign(Object.assign({},J),e),H()||!M("bounds")||be()||w.scale>b.scale||w.scale<K())return void de();const t=re(w.scale);let n=!1,o=!1,i=!1,s=!1;b.x<t.x[0]&&(n=!0),b.x>t.x[1]&&(o=!0),b.y<t.y[0]&&(s=!0),b.y>t.y[1]&&(i=!0);let l=!1,r=!1,c=!1,u=!1;w.x<t.x[0]&&(l=!0),w.x>t.x[1]&&(r=!0),w.y<t.y[0]&&(u=!0),w.y>t.y[1]&&(c=!0);let d=!1;(o&&r||n&&l)&&(w.x=h(t.x[0],w.x,t.x[1]),d=!0),(i&&c||s&&u)&&(w.y=h(t.y[0],w.y,t.y[1]),d=!0),d&&a&&a.spring({tension:94,friction:17,maxSpeed:555*w.scale,restDelta:.1,restSpeed:.1,velocity:a.getCurrentVelocities()}).from(b).to(w).start(),de()})).on("end",(()=>{(null==r?void 0:r.isPointerDown())||ae(),(null==a?void 0:a.isRunning())||(ce(),O("animationEnd"))})),function(){const e=M("gestures");if(!e)return;if(!l||!i)return;let t=!1;r=V(l,e).on("start",(e=>{if(!M("gestures"))return;if(!a)return;if(!S()||H())return;const n=e.srcEvent;(b.scale>1||e.currentTouch.length>1)&&(null==n||n.stopPropagation(),a.pause(),t=!0),1===e.currentTouch.length&&O("touchStart")})).on("move",(e=>{var n;t&&(1!==w.scale||e.currentTouch.length>1)&&(Z(e.srcEvent),null===(n=e.srcEvent)||void 0===n||n.stopPropagation())})).on("pan",(e=>{if(!t)return;const n=e.srcEvent;(1!==w.scale||e.currentTouch.length>1)&&(Z(n),ue(X.Pan,e))})).on("swipe",(e=>{t&&w.scale>1&&ue(X.Swipe,e)})).on("tap",(e=>{O("click",e)})).on("singleTap",(e=>{O("singleClick",e)})).on("doubleTap",(e=>{O("dblClick",e)})).on("pinch",(e=>{t&&(e.scale>K()?ue(X.ZoomIn,e):e.scale<K()?ue(X.ZoomOut,e):ue(X.Pan,e))})).on("end",(e=>{t&&(e.currentTouch.length?(e.srcEvent.stopPropagation(),Z(e.srcEvent),null==a||a.end()):(t=!1,ce(),ae(),O("touchEnd")))})).init()}(),l&&(l.addEventListener("wheel",T,{passive:!1}),x.push((()=>{null==l||l.removeEventListener("wheel",T,{passive:!1})}))),null==e||e.addEventListener("click",A),null===document||void 0===document||document.addEventListener("mousemove",C),x.push((()=>{null==e||e.removeEventListener("click",A),null===document||void 0===document||document.removeEventListener("mousemove",C)}));const s=I();b=Object.assign({},s),w=Object.assign({},s),d=3,de(),ce(),O("ready"),requestAnimationFrame((()=>{R(),l&&(l.style.visibility="")}))}function I(){const e=Object.assign({},M("startPos")||{});let t=e.scale,n=1;n="string"==typeof t?q(t):"number"==typeof t?t:K();const o=Object.assign(Object.assign(Object.assign({},J),e),{scale:n}),i=H()?D(n):void 0;if(i){const{x:e,y:t}=i;o.x=e,o.y=t}return o}function F(){const e={top:0,left:0,width:0,height:0};if(o){const t=o.getBoundingClientRect();w.angle%180==90?(e.top=t.top+.5*t.height-.5*t.width,e.left=t.left+.5*t.width-.5*t.height,e.width=t.height,e.height=t.width):(e.top=t.top,e.left=t.left,e.width=t.width,e.height=t.height)}return e}function $(){let e=M("width"),t=M("height");if(i&&"auto"===e){const t=i.getAttribute("width");e=t?parseFloat(t+""):void 0!==i.dataset.width?parseFloat(i.dataset.width+""):Y(l)?l.naturalWidth:Y(i)?i.naturalWidth:(null==o?void 0:o.getBoundingClientRect().width)||0}else e=f(e)?parseFloat(e):e;if(i&&"auto"===t){const e=i.getAttribute("height");t=e?parseFloat(e+""):void 0!==i.dataset.height?parseFloat(i.dataset.height+""):Y(l)?l.naturalHeight:Y(i)?i.naturalHeight:(null==o?void 0:o.getBoundingClientRect().height)||0}else t=f(t)?parseFloat(t):t;return{width:e,height:t}}function _(){const e=F();return{width:e.width,height:e.height}}function H(){return"mousemove"===M("panMode")&&matchMedia("(hover: hover)").matches}function D(e){const t=u||M("event"),n=null==o?void 0:o.getBoundingClientRect();if(!t||!n||e<=1)return{x:0,y:0};const i=(t.clientX||0)-n.left,s=(t.clientY||0)-n.top,{width:l,height:r}=_(),a=re(e);if(e>1){const t=M("mouseMoveFactor");t>1&&(e*=t)}let c=l*e,d=r*e,f=.5*(c-l)-i/l*100/100*(c-l),g=.5*(d-r)-s/r*100/100*(d-r);return f=h(a.x[0],f,a.x[1]),g=h(a.y[0],g,a.y[1]),{x:f,y:g}}function q(t){if(void 0===t&&(t="base"),!e)return 1;const n=e.getBoundingClientRect(),o=F(),{width:i,height:s}=$(),l=e=>{if("number"==typeof e)return e;switch(e){case"min":case"base":return 1;case"cover":return Math.max(n.height/o.height,n.width/o.width)||1;case"full":case"max":{const e=w.angle%180==90?s:i;return e&&o.width?e/o.width:1}}},r=M("minScale"),a=M("maxScale"),c=Math.min(l("full"),l(r)),u="number"==typeof a?l("full")*a:Math.min(l("full"),l(a));switch(t){case"min":return c;case"base":return h(c,1,u);case"cover":return l("cover");case"full":return Math.min(u,l("full"));case"max":return u}}function U(){return q("min")}function K(){return q("base")}function ie(){return q("cover")}function se(){return q("full")}function le(){return q("max")}function re(t){const n={x:[0,0],y:[0,0]},o=null==e?void 0:e.getBoundingClientRect();if(!o)return n;const i=F(),s=o.width,l=o.height;let r=i.width,a=i.height,c=t=void 0===t?w.scale:t,u=t;if(H()&&t>1){const e=M("mouseMoveFactor");e>1&&(r*t>s+.01&&(c*=e),a*t>l+.01&&(u*=e))}return r*=c,a*=u,t>1&&(r>s&&(n.x[0]=.5*(s-r),n.x[1]=.5*(r-s)),n.x[0]-=.5*(i.left-o.left),n.x[1]-=.5*(i.left-o.left),n.x[0]-=.5*(i.left+i.width-o.right),n.x[1]-=.5*(i.left+i.width-o.right),a>l&&(n.y[0]=.5*(l-a),n.y[1]=.5*(a-l)),n.y[0]-=.5*(i.top-o.top),n.y[1]-=.5*(i.top-o.top),n.y[0]-=.5*(i.top+i.height-o.bottom),n.y[1]-=.5*(i.top+i.height-o.bottom)),n}function ae(){if(!S())return;if(!M("bounds"))return;if(!a)return;const e=U(),t=le(),n=h(e,w.scale,t);if(w.scale<e-.01||w.scale>t+.01)return void ue(X.ZoomTo,{scale:n});if(a.isRunning())return;if(be())return;const o=re(n);w.x<o.x[0]||w.x>o.x[1]||w.y<o.y[0]||w.y>o.y[1]?(w.x=h(o.x[0],w.x,o.x[1]),w.y=h(o.y[0],w.y,o.y[1]),a.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:a.getCurrentVelocities()}),a.from(b).to(w).start()):de()}function ce(t){var n;if(!S())return;const i=ye(),s=be(),l=Ee(),r=we(),a=ge(),c=ve();B(o,"is-fullsize",r),B(o,"is-expanded",l),B(o,"is-dragging",s),B(o,"can-drag",i),B(o,"will-zoom-in",a),B(o,"will-zoom-out",c);const u=pe(),d=he(),f=me(),g=!S();for(const o of(null===(n=t||e)||void 0===n?void 0:n.querySelectorAll("[data-panzoom-action]"))||[]){const e=o.dataset.panzoomAction;let t=!1;if(g)t=!0;else switch(e){case X.ZoomIn:u||(t=!0);break;case X.ZoomOut:f||(t=!0);break;case X.ToggleFull:{d||f||(t=!0);const e=o.querySelector("g");e&&(e.style.display=r&&!t?"none":"");break}case X.IterateZoom:{u||f||(t=!0);const e=o.querySelector("g");e&&(e.style.display=u||t?"":"none");break}case X.ToggleCover:case X.ToggleMax:u||f||(t=!0)}t?(o.setAttribute("aria-disabled",""),o.setAttribute("tabindex","-1")):(o.removeAttribute("aria-disabled"),o.removeAttribute("tabindex"))}}function ue(t,n){var o;if(!(t&&e&&i&&a&&S()))return;if(t===X.Swipe&&Math.abs(a.getCurrentVelocities().scale)>.01)return;const s=Object.assign({},w);let l=Object.assign({},w),r=re(H()?s.scale:b.scale);const c=a.getCurrentVelocities(),u=F(),d=((null===(o=(n=n||{}).currentTouch)||void 0===o?void 0:o.length)||0)>1,f=n.velocityX||0,g=n.velocityY||0;let v=n.center;n.srcEvent&&(v=k(z(n.srcEvent)));let m=n.deltaX||0,p=n.deltaY||0;switch(t){case X.MoveRight:m=n.deltaX||100;break;case X.MoveLeft:m=n.deltaX||-100;break;case X.MoveUp:p=n.deltaY||-100;break;case X.MoveDown:p=n.deltaY||100}let y=[];switch(t){case X.Reset:l=Object.assign({},J),l.scale=K();break;case X.Pan:case X.Move:case X.MoveLeft:case X.MoveRight:case X.MoveUp:case X.MoveDown:if(be()){let e=1,t=1;l.x<=r.x[0]&&f<=0&&(e=Math.max(.01,1-Math.abs(1/u.width*Math.abs(l.x-r.x[0]))),e*=.2),l.x>=r.x[1]&&f>=0&&(e=Math.max(.01,1-Math.abs(1/u.width*Math.abs(l.x-r.x[1]))),e*=.2),l.y<=r.y[0]&&g<=0&&(t=Math.max(.01,1-Math.abs(1/u.height*Math.abs(l.y-r.y[0]))),t*=.2),l.y>=r.y[1]&&g>=0&&(t=Math.max(.01,1-Math.abs(1/u.height*Math.abs(l.y-r.y[1]))),t*=.2),l.x+=m*e,l.y+=p*t}else l.x=h(r.x[0],l.x+m,r.x[1]),l.y=h(r.y[0],l.y+p,r.y[1]);break;case X.Swipe:const e=function(e){return void 0===e&&(e=0),Math.sign(e)*Math.pow(Math.abs(e),1.5)};l.x+=h(-1e3,e(f),1e3),l.y+=h(-1e3,e(g),1e3),g&&!f&&(l.x=h(r.x[0],l.x,r.x[1])),!g&&f&&(l.y=h(r.y[0],l.y,r.y[1])),c.x=f,c.y=g;break;case X.ZoomTo:l.scale=n.scale||1;break;case X.ZoomIn:l.scale=l.scale*(n.scale||2),d||(l.scale=Math.min(l.scale,le()));break;case X.ZoomOut:l.scale=l.scale*(n.scale||.5),d||(l.scale=Math.max(l.scale,U()));break;case X.ToggleCover:y=[K(),ie()];break;case X.ToggleFull:y=[K(),se()];break;case X.ToggleMax:y=[K(),le()];break;case X.IterateZoom:y=[K(),se(),le()];break;case X.Zoom:const t=se();l.scale>=t-.05?l.scale=K():l.scale=Math.min(t,l.scale*(n.scale||2));break;case X.RotateCW:l.angle+=90;break;case X.RotateCCW:l.angle-=90;break;case X.FlipX:l.flipX*=-1;break;case X.FlipY:l.flipY*=-1}if(void 0!==b.angle&&Math.abs(b.angle)>=360&&(l.angle-=360*Math.floor(b.angle/360),b.angle-=360*Math.floor(b.angle/360)),y.length){const e=y.findIndex((e=>e>l.scale+1e-4));l.scale=y[e]||y[0]}if(d&&(l.scale=h(U()*(d?.8:1),l.scale,le()*(d?1.6:1))),H()){const e=D(l.scale);if(e){const{x:t,y:n}=e;l.x=t,l.y=n}}else if(Math.abs(l.scale-s.scale)>1e-4){let t=0,n=0;if(v)t=v.x,n=v.y;else{const o=e.getBoundingClientRect();t=o.x+.5*o.width,n=o.y+.5*o.height}let o=t-u.left,i=n-u.top;o-=.5*u.width,i-=.5*u.height;const a=(o-s.x)/s.scale,c=(i-s.y)/s.scale;l.x=o-a*l.scale,l.y=i-c*l.scale,!d&&M("bounds")&&(r=re(l.scale),l.x=h(r.x[0],l.x,r.x[1]),l.y=h(r.y[0],l.y,r.y[1]))}if(t===X.Swipe){let e=94,t=17,n=500*l.scale,o=c;a.spring({tension:e,friction:t,maxSpeed:n,restDelta:.1,restSpeed:.1,velocity:o})}else t===X.Pan||d?a.spring({tension:900,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):a.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:c});if(0===n.velocity||E(b,l))b=Object.assign({},l),w=Object.assign({},l),a.end(),de(),ce();else{if(E(w,l))return;a.from(b).to(l).start()}O("action",t)}function de(){if(!i||!o||!l)return;const{width:t,height:n}=$();Object.assign(o.style,{maxWidth:`min(${t}px, 100%)`,maxHeight:`min(${n}px, 100%)`});const s=function(){const{width:t,height:n}=$(),{width:o,height:i}=_();if(!e)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:o,fitHeight:i,fullWidth:t,fullHeight:n};let{x:s,y:l,scale:r,angle:a,flipX:c,flipY:u}=b,d=1/se(),f=t,g=n,v=b.scale*d,m=w.scale*d;const p=Math.max(o,i),h=Math.min(o,i);t>n?(f=p,g=h):(f=h,g=p),v=t>n?p*r/t||1:p*r/n||1;let y=f?t*m:0,E=g?n*m:0;return s=s+.5*f-.5*y,l=l+.5*g-.5*E,{x:s,y:l,width:y,height:E,scale:f&&g?t*v/y:0,flipX:c,flipY:u,angle:a,fitWidth:o,fitHeight:i,fullWidth:t,fullHeight:n}}(),{x:r,y:a,width:c,height:u,scale:d,angle:f,flipX:g,flipY:v}=s;let m=`translate(${G(r)}px, ${G(a)}px)`;m+=1!==g||1!==v?` scaleX(${G(d*g)}) scaleY(${G(d*v)})`:` scale(${G(d)})`,0!==f&&(m+=` rotate(${f}deg)`),l.style.width=`${G(c)}px`,l.style.height=`${G(u)}px`,l.style.transform=`${m}`,O("render")}function fe(){let e=w.scale;const t=M("clickAction");let n=K();if(t){let o=[];switch(t){case X.ZoomIn:n=2*e;break;case X.ZoomOut:n=.5*e;break;case X.ToggleCover:o=[K(),ie()];break;case X.ToggleFull:o=[K(),se()];break;case X.ToggleMax:o=[K(),le()];break;case X.IterateZoom:o=[K(),se(),le()];break;case X.Zoom:const t=se();n=e>=t-.05?K():Math.min(t,2*e)}if(o.length){const t=o.findIndex((t=>t>e+1e-4));n=o[t]||K()}}return n=h(U(),n,le()),n}function ge(){return!!(S()&&fe()>w.scale)}function ve(){return!!(S()&&fe()<w.scale)}function me(){return!!(S()&&w.scale>U())}function pe(){return!!(S()&&w.scale<le())}function he(){return!!(S()&&w.scale<se())}function ye(){return!(!(S()&&Ee()&&r)||H())}function be(){return!(!S()||!(null==r?void 0:r.isPointerDown())||H())}function Ee(){return!!(S()&&w.scale>K())}function we(){return!!(S()&&w.scale>=se())}function xe(){const t="in-fullscreen",n="with-panzoom-in-fullscreen";null==e||e.classList.toggle(t);const o=null==e?void 0:e.classList.contains(t);o?(document.documentElement.classList.add(n),document.addEventListener("keydown",Me,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",Me,!0)),de(),O(o?"enterFS":"exitFS")}function Me(e){"Escape"!==e.key||e.defaultPrevented||xe()}const Se={canDrag:ye,canZoomIn:pe,canZoomOut:me,canZoomToFull:he,destroy:function(){O("destroy");for(const e of Object.values(y))null==e||e.destroy(Se);for(const e of x)e();return o&&(o.style.aspectRatio="",o.style.maxWidth="",o.style.maxHeight=""),l&&(l.style.width="",l.style.height="",l.style.transform=""),o=void 0,i=void 0,l=void 0,b=Object.assign({},J),w=Object.assign({},J),null==a||a.destroy(),a=void 0,null==r||r.destroy(),r=void 0,d=4,Se},emit:O,execute:ue,getBoundaries:re,getContainer:function(){return e},getContent:function(){return i},getFullDim:$,getGestures:function(){return r},getMousemovePos:D,getOptions:function(){return m},getPlugins:function(){return y},getScale:q,getStartPosition:I,getState:function(){return d},getTransform:function(e){return!0===e?w:b},getTween:function(){return a},getViewport:function(){return l},getWrapper:function(){return o},init:function(){return d=0,O("init"),function(){for(const[e,t]of Object.entries(Object.assign(Object.assign({},n),m.plugins||{})))if(e&&!y[e]&&t instanceof Function){const n=t();n.init(Se),y[e]=n}O("initPlugins")}(),function(){const t=Object.assign(Object.assign({},Q.classes),M("classes"));if(e&&(N(e,t.container),i=e.querySelector("."+t.content),i)){if(i.setAttribute("draggable","false"),o=e.querySelector("."+t.wrapper),o||(o=document.createElement("div"),N(o,t.wrapper),i.insertAdjacentElement("beforebegin",o),o.insertAdjacentElement("afterbegin",i)),l=e.querySelector("."+t.viewport),l||(l=document.createElement("div"),N(l,t.viewport),l.insertAdjacentElement("afterbegin",i),o.insertAdjacentElement("beforeend",l)),s=i.cloneNode(!0),s.removeAttribute("id"),o.insertAdjacentElement("afterbegin",s),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),s instanceof HTMLPictureElement&&(s=s.querySelector("img")),l instanceof HTMLPictureElement&&(l=l.querySelector("img")),l&&(l.style.visibility="hidden",M("protected"))){l.addEventListener("contextmenu",(e=>{Z(e)}));const e=document.createElement("div");N(e,"f-panzoom__protected"),l.appendChild(e)}O("initLayout")}}(),function(){if(e&&o&&!c){let e=null;c=new ResizeObserver((()=>{S()&&(e=e||requestAnimationFrame((()=>{S()&&(ce(),ae(),O("refresh")),e=null})))})),c.observe(o),x.push((()=>{null==c||c.disconnect(),c=void 0,e&&(cancelAnimationFrame(e),e=null)}))}}(),function(){if(!e||!i)return;if(!Y(i)||!Y(s))return void j();const t=()=>{i&&Y(i)&&i.decode().then((()=>{j()})).catch((()=>{j()}))};d=1,e.classList.add("is-loading"),O("loading"),s.src&&s.complete?t():(function(){if(!e)return;if(null==e?void 0:e.querySelector(".f-spinner"))return;const t=M("spinnerTpl"),n=p(t);n&&(n.classList.add("f-spinner"),e.classList.add("is-loading"),null==o||o.insertAdjacentElement("afterbegin",n))}(),s.addEventListener("load",t,!1),s.addEventListener("error",t,!1),x.push((()=>{null==s||s.removeEventListener("load",t,!1),null==s||s.removeEventListener("error",t,!1)})))}(),Se},isDragging:be,isExpanded:Ee,isFullsize:we,isMousemoveMode:H,localize:function(e,t){void 0===t&&(t=[]);const n=M("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,((e,t)=>n[t]||e));for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,((e,t)=>t))},off:function(e,t){for(const n of e instanceof Array?e:[e])L.has(n)&&L.set(n,L.get(n).filter((e=>e!==t)));return Se},on:function(e,t){for(const n of e instanceof Array?e:[e])L.set(n,[...L.get(n)||[],t]);return Se},toggleFS:xe,updateControls:ce,version:"6.1.5",willZoomIn:ge,willZoomOut:ve};return Se};ie.l10n={en_EN:q},ie.getDefaults=()=>Q;const se=(e,t)=>{let n=[];return e.childNodes.forEach((e=>{e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)})),n},le=function(e){const t=arguments.length<=1?0:arguments.length-1;for(let n=0;n<t;n++){const t=(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])||{};Object.entries(t).forEach((t=>{let[n,o]=t;const i=Array.isArray(o)?[]:{};e[n]||Object.assign(e,{[n]:i}),y(o)?Object.assign(e[n],le(e[n],o)):Array.isArray(o)?Object.assign(e,{[n]:[...o]}):Object.assign(e,{[n]:o})}))}return e},re=function(e,t,n,o,i,s){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=!1);const l=(e-t)/(n-t)*(i-o)+o;return s?o<i?h(o,l,i):h(i,l,o):l},ae=Object.assign(Object.assign({},q),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"}),ce=e=>{e.cancelable&&e.preventDefault()},ue={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:ae,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:160,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let de,fe=0;const ge=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),fe++;let o,i,s,l,r,a=0,c=Object.assign({},ue),u=Object.assign({},ue),d={},m=null,b=null,E=!1,w=!1,x=!1,M=!1,S="height",L=0,O=!0,T=0,C=0,R=0,j=0,z="*",k=[],I=[];const F=new Set;let $=[],_=[],H=0,D=0,q=0;function Z(e){let t=u[e];for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t&&t instanceof Function?t(Fe,...o):t}function G(e,t){void 0===t&&(t=[]);const n=Z("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,((e,t)=>n[t]||e));for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,((e,t)=>t))}const Y=new Map;function X(e){const t=[...Y.get(e)||[]];u.on&&t.push(u.on[e]);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];for(const e of t)e&&e instanceof Function&&e(Fe,...o);"*"!==e&&X("*",e,...o)}function U(){var e,t;const l=le({},ue,c);le(l,ue,c);let f="";const g=c.breakpoints||{};if(g)for(const[e,t]of Object.entries(g))window.matchMedia(e).matches&&(f+=e,le(l,t));if(void 0===r||f!==r){if(r=f,0!==a){let n=null===(t=null===(e=_[T])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index;void 0===n&&(n=u.initialSlide),l.initialSlide=n,l.slides=[];for(const e of k)e.isVirtual&&l.slides.push(e)}ze(),u=l,!1!==Z("enabled")&&(a=0,X("init"),function(){for(const[e,t]of Object.entries(Object.assign(Object.assign({},n),u.plugins||{})))if(e&&!d[e]&&t instanceof Function){const n=t();n.init(Fe,ge),d[e]=n}X("initPlugins")}(),function(){if(!m)return;const e=Z("classes")||{};N(m,e.container);const t=Z("style");if(t&&y(t))for(const[e,n]of Object.entries(t))m.style.setProperty(e,n);b=m.querySelector(`.${e.viewport}`),b||(b=document.createElement("div"),N(b,e.viewport),b.append(...se(m,`.${e.slide}`)),m.insertAdjacentElement("afterbegin",b)),m.carousel=Fe,X("initLayout")}(),function(){if(!b)return;const e=Z("classes")||{};k=[],[...se(b,`.${e.slide}`)].forEach((e=>{if(e.parentElement){const t=he(Object.assign({el:e,isVirtual:!1},e.dataset||{}));X("createSlide",t),k.push(t)}})),we();for(const e of k)X("addSlide",e);pe(Z("slides"));for(const e of k){const t=e.el;(null==t?void 0:t.parentElement)===b&&(N(t,u.classes.slide),N(t,e.class),Ae(e),X("attachSlideEl",e))}X("initSlides")}(),xe(),a=1,N(m,(Z("classes")||{}).isEnabled||""),je(),te(),i=P().on("start",(()=>{o&&o.isPointerDown()||(ee(),je())})).on("step",(e=>{const t=L;L=e.pos,L!==t&&(O=!1,je())})).on("end",(e=>{(null==o?void 0:o.isPointerDown())||(L=e.pos,i&&!w&&(L<R||L>j)?i.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:L}).to({pos:h(R,L,j)}).start():O||(O=!0,X("settle")))})),J(),function(){if(!m||!b)return;m.addEventListener("click",Oe),document.addEventListener("mousemove",K);const e=b.getBoundingClientRect();if(H=e.height,D=e.width,!s){let e=null;s=new ResizeObserver((()=>{e||(e=requestAnimationFrame((()=>{!function(){if(1!==a||!b)return;const e=_.length,t=b.getBoundingClientRect(),n=t.height,i=t.width;e>1&&(M&&Math.abs(n-H)<.5||!M&&Math.abs(i-D)<.5)||(xe(),J(),H=n,D=i,M&&!n||!M&&!i||m&&b&&(e===_.length&&(null==o?void 0:o.isPointerDown())||(Z("dragFree")&&(w||L>R&&L<j)?(ee(),je()):Ce(T,{transition:!1}))))}(),e=null})))})),s.observe(b)}}(),X("ready"))}}function K(e){de=e}function J(){!1===Z("gestures")?o&&(o.destroy(),o=void 0):o||function(){const e=Z("gestures");!o&&!1!==e&&b&&(o=V(b,e).on("start",(e=>{var t,n;if(!i)return;if(!1===Z("gestures",e))return;const{srcEvent:o}=e;M&&A(o)&&!v(o.target)&&ce(o),i.pause(),i.getCurrentVelocities().pos=0;const s=null===(t=_[T])||void 0===t?void 0:t.slides[0],l=null==s?void 0:s.el;s&&F.has(s.index)&&l&&(L=s.offset||0,L+=(function(e){const t=window.getComputedStyle(e),n=new DOMMatrixReadOnly(t.transform);return{width:n.m41||0,height:n.m42||0}}(l)[S]||0)*(x&&!M?1:-1)),w||(L<R||L>j)&&i.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:(null===(n=i.getCurrentVelocities())||void 0===n?void 0:n.pos)||0,restDelta:1,restSpeed:1}).from({pos:L}).to({pos:h(R,L,j)}).start(),Se()})).on("move",(e=>{var t,n;if(!1===Z("gestures",e))return;const{srcEvent:o,axis:s,deltaX:l,deltaY:r}=e;if(A(o)&&(null===(t=o.touches)||void 0===t?void 0:t.length)>1)return;const a=o.target,c=v(a),u=c?c.scrollHeight>c.clientHeight?"y":"x":void 0;if(c&&(!s||s===u))return;if(!s)return ce(o),o.stopPropagation(),void o.stopImmediatePropagation();if("y"===s&&!M||"x"===s&&M)return;if(ce(o),o.stopPropagation(),!i)return;const d=x&&!M?1:-1,f=M?r:l;let g=(null==i?void 0:i.isRunning())?i.getEndValues().pos:L,m=1;w||(g<=R&&f*d<0?(m=Math.max(.01,1-(Math.abs(1/ae()*Math.abs(g-R))||0)),m*=.2):g>=j&&f*d>0&&(m=Math.max(.01,1-(Math.abs(1/ae()*Math.abs(g-j))||0)),m*=.2)),g+=f*m*d,i.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:(null===(n=i.getCurrentVelocities())||void 0===n?void 0:n.pos)||0,restDelta:1,restSpeed:1}).from({pos:L}).to({pos:g}).start()})).on("panstart",(e=>{!1!==Z("gestures",e)&&(null==e?void 0:e.axis)===(M?"y":"x")&&N(b,"is-dragging")})).on("panend",(e=>{!1!==Z("gestures",e)&&W(b,"is-dragging")})).on("end",(e=>{var t,n;if(!1===Z("gestures",e))return;const{srcEvent:o,axis:s,velocityX:l,velocityY:r,currentTouch:a}=e;if(a.length>0||!i)return;const c=o.target,u=v(c),f=u?u.scrollHeight>u.clientHeight?"y":"x":void 0,g=u&&(!s||s===f);M&&A(o)&&!e.axis&&Oe(o);const m=_.length,p=Z("dragFree");if(!m)return;const y=g?0:Z("vertical")?r:l;let b=(null==i?void 0:i.isRunning())?i.getEndValues().pos:L;const E=x&&!M?1:-1;if(g||(b+=y*(p?5:1)*E),!w&&(y*E<=0&&b<R||y*E>=0&&b>j)){let e=0;return Math.abs(y)>0&&(e=2*Math.abs(y),e=Math.min(.3*ae(),e)),b=h(R+-1*e,b,j+e),void i.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*y,restDelta:1,restSpeed:1}).from({pos:L}).to({pos:b}).start()}if(p||(null===(t=d.Autoscroll)||void 0===t?void 0:t.isEnabled()))return void(Math.abs(y)>10?i.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*y,restDelta:1,restSpeed:1}).from({pos:L}).to({pos:b}).start():i.isRunning()||O||(O=!0,X("settle")));if(!p&&!(null===(n=d.Autoscroll)||void 0===n?void 0:n.isEnabled())&&(!e.offsetX&&!e.offsetY||"y"===s&&!M||"x"===s&&M))return void Ce(T,{transition:"tween"});let S=oe(b);Math.abs(y)>10&&S===T&&(S+=y>0?x&&!M?1:-1:x&&!M?-1:1),Ce(S,{transition:"tween",tween:{velocity:-1*y}})})).init())}(),B(b,"is-draggable",!!o&&_.length>0)}function Q(e){var t;void 0===e&&(e="*");const n=[];for(const o of k)("*"===e||o.class&&o.class.includes(e)||o.el&&(null===(t=o.el)||void 0===t?void 0:t.classList.contains(e)))&&n.push(o);l=void 0,z=e,I=[...n]}function ee(){if(!i)return;const e=oe((null==i?void 0:i.isRunning())?i.getEndValues().pos:L);e!==T&&(l=T,T=e,Ae(),te(),ne(),X("change",T,l))}function te(){var e,t;if(!m)return;for(const e of m.querySelectorAll("[data-carousel-index]"))e.innerHTML=T+"";for(const e of m.querySelectorAll("[data-carousel-page]"))e.innerHTML=T+1+"";for(const e of m.querySelectorAll("[data-carousel-pages]"))e.innerHTML=_.length+"";for(const t of m.querySelectorAll("[data-carousel-go-to]"))parseInt((null===(e=t.dataset)||void 0===e?void 0:e.carouselGoTo)||"-1",10)===T?t.setAttribute("aria-current","true"):t.removeAttribute("aria-current");for(const e of m.querySelectorAll("[data-carousel-go-prev]"))e.toggleAttribute("aria-disabled",!ke()),ke()?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1");for(const e of m.querySelectorAll("[data-carousel-go-next]"))e.toggleAttribute("aria-disabled",!Ie()),Ie()?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1");let n=!1;const o=null===(t=_[T])||void 0===t?void 0:t.slides[0];o&&(o.downloadSrc||"image"===o.type&&o.src)&&(n=!0);for(const e of m.querySelectorAll("[data-carousel-download]"))e.toggleAttribute("aria-disabled",!n)}function ne(e){var t;e||(e=null===(t=_[T])||void 0===t?void 0:t.slides[0]);const n=null==e?void 0:e.el;if(n)for(const t of n.querySelectorAll("[data-slide-index]"))t.innerHTML=e.index+1+""}function oe(e){var t,n,o;if(!_.length)return 0;const i=ve();let s=e;w?s-=Math.floor((e-(null===(t=_[0])||void 0===t?void 0:t.pos))/i)*i||0:s=h(null===(n=_[0])||void 0===n?void 0:n.pos,e,null===(o=_[_.length-1])||void 0===o?void 0:o.pos);const l=new Map;let r=0;for(const e of _){const t=Math.abs(e.pos-s),n=Math.abs(e.pos-s-i),o=Math.abs(e.pos-s+i),a=Math.min(t,n,o);l.set(r,a),r++}const a=l.size>0?[...l.entries()].reduce(((e,t)=>t[1]<e[1]?t:e)):[T,0];return parseInt(a[0])}function ie(){return q}function ae(){let e=0;return b&&(b.childElementCount||(b.style.display="grid"),e=b.getBoundingClientRect()[S]||0,b.style.display=""),e}function ve(e){return void 0===e&&(e=!0),I.length?I.reduce(((e,t)=>e+t.dim),0)+(I.length-(w&&e?0:1))*q:0}function me(e){const t=ve(),n=ae();if(!t||!b||!n)return[];const o=[];e=void 0===e?L:e,w&&(e-=Math.floor(e/t)*t||0);let i=0,s=0;if(E){const e=b.getBoundingClientRect();i=Math.abs(e[M?"top":"left"]),s=Math.abs(window[M?"innerHeight":"innerWidth"]-e[M?"bottom":"right"])}let l=0;for(let r of I){const a=function(t){void 0===t&&(t=0),o.indexOf(r)>-1||(r.pos=l-e+t||0,r.offset+t>e-r.dim-i+.51&&r.offset+t<e+n+s-.51&&o.push(r))};r.offset=l,w&&(a(t),a(-1*t)),a(),l+=r.dim+q}return o}function pe(e,t){const n=[];for(const t of Array.isArray(e)?e:[e]){const e=he(Object.assign(Object.assign({},t),{isVirtual:!0}));e.el||(e.el=document.createElement("div")),X("createSlide",e),n.push(e)}k.splice(void 0===t?k.length:t,0,...n),we();for(const e of n)X("addSlide",e),ye(e);return Q(z),n}function he(e){return(f(e)||e instanceof HTMLElement)&&(e={html:e}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},e)}function ye(e){let t=e.el;if(!e||!t)return;const n=e.html?e.html instanceof HTMLElement?e.html:p(e.html):void 0;n&&(N(n,"f-html"),e.htmlEl=n,N(t,"has-html"),t.append(n),X("contentReady",e))}function be(e){if(!b||!e)return;let t=e.el;if(t){if(t.setAttribute("index",e.index+""),t.parentElement!==b){let n;N(t,u.classes.slide),N(t,e.class),Ae(e);for(const t of k)if(t.index>e.index){n=t.el;break}b.insertBefore(t,n&&b.contains(n)?n:null),X("attachSlideEl",e)}return ne(e),t}}function Ee(e){const t=null==e?void 0:e.el;t&&(t.remove(),Me(t),X("detachSlideEl",e))}function we(){for(let e=0;e<k.length;e++){const t=k[e],n=t.el;n&&(t.index!==e&&Me(n),n.setAttribute("index",`${e}`)),t.index=e}}function xe(){var e,t,n,o,i;if(!m||!b)return;x=Z("rtl"),M=Z("vertical"),S=M?"height":"width";const s=Z("classes");if(B(m,s.isLTR,!x),B(m,s.isRTL,x),B(m,s.isHorizontal,!M),B(m,s.isVertical,M),B(m,s.hasAdaptiveHeight,Z("adaptiveHeight")),!ae())return;const r=window.getComputedStyle(b);E="visible"===r.getPropertyValue("overflow-"+(M?"y":"x")),q=b&&parseFloat(r.getPropertyValue("--f-carousel-gap"))||0;const c=function(){let e=0;if(b){let t=document.createElement("div");t.style.display="block",N(t,u.classes.slide),b.appendChild(t),e=t.getBoundingClientRect()[S],t.remove(),t=void 0}return e}();for(const t of I){const n=t.el;let o=0;if(!t.isVirtual&&n&&g(n)){let t=!1;n.parentElement&&n.parentElement===b||(b.appendChild(n),t=!0),o=n.getBoundingClientRect()[S],t&&(null===(e=n.parentElement)||void 0===e||e.removeChild(n))}else o=c;t.dim=o}if(w=!1,Z("infinite")){w=!0;const e=ve();let n=ae();if(E){const e=b.getBoundingClientRect();n+=e.left,n+=e.right-e.width}for(let o=0;o<I.length;o++){const i=(null===(t=I[o])||void 0===t?void 0:t.dim)+q;if(e-i<n&&e-i-n<i){w=!1;break}}}!function(){var e;if(!m)return;const t=ae(),n=ve(!1);let o=Z("slidesPerPage");o="auto"===o?1/0:parseFloat(o+""),_=[];let i=0,s=0;for(const n of I)(!_.length||i+n.dim-t>.05||s>=o)&&(_.push({index:_.length,slides:[],dim:0,offset:0,pos:0}),i=0,s=0),null===(e=_[_.length-1])||void 0===e||e.slides.push(n),i+=n.dim+q,s++;const l=Z("center"),r=Z("fill");let a=0;for(const e of _){e.dim=(e.slides.length-1)*q;for(const t of e.slides)e.dim+=t.dim;e.offset=a,e.pos=a,!1!==l&&(e.pos-=.5*(t-e.dim)),r&&!w&&n>t&&(e.pos=h(0,e.pos,n-t)),a+=e.dim+q}const c=[];let u;for(const e of _){const t=Object.assign({},e);u&&Math.abs(t.pos-u.pos)<.1?(u.dim+=t.dim,u.slides=[...u.slides,...t.slides]):(u=t,t.index=c.length,c.push(t))}_=c,T=h(0,T,_.length-1)}(),R=(null===(n=_[0])||void 0===n?void 0:n.pos)||0,j=(null===(o=_[_.length-1])||void 0===o?void 0:o.pos)||0,0===a?function(){var e;l=void 0,T=Z("initialPage");const t=Z("initialSlide")||void 0;void 0!==t&&(T=Fe.getPageIndex(t)||0),T=h(0,T,_.length-1),L=(null===(e=_[T])||void 0===e?void 0:e.pos)||0,C=L}():C=(null===(i=_[T||0])||void 0===i?void 0:i.pos)||0,X("refresh"),te()}function Me(e){if(!e||!g(e))return;const t=parseInt(e.getAttribute("index")||"-1");let n="";for(const t of Array.from(e.classList)){const e=t.match(/^f-(\w+)(Out|In)$/);e&&e[1]&&(n=e[1]+"")}if(!e||!n)return;const o=[`f-${n}Out`,`f-${n}In`,"to-prev","to-next","from-prev","from-next"];e.removeEventListener("animationend",Le),W(e,o.join(" ")),F.delete(t)}function Se(){if(!b)return;const e=F.size>0;for(const e of I)Me(e.el);F.clear(),e&&je()}function Le(e){var t;"f-"===(null===(t=e.animationName)||void 0===t?void 0:t.substring(0,2))&&(Me(e.target),F.size||(W(m,"in-transition"),!O&&Math.abs(Fe.getPosition(!0)-C)<.5&&(O=!0,X("settle"))),je())}function Oe(e){var t;if(e.defaultPrevented)return;const n=e.composedPath()[0];if(n.closest("[data-carousel-go-prev]"))return ce(e),void Fe.prev();if(n.closest("[data-carousel-go-next]"))return ce(e),void Fe.next();const o=n.closest("[data-carousel-go-to]");if(o)return ce(e),void Fe.goTo(parseFloat(o.dataset.carouselGoTo||"")||0);if(n.closest("[data-carousel-download]")){ce(e);const n=null===(t=_[T])||void 0===t?void 0:t.slides[0];if(n&&(n.downloadSrc||"image"===n.type&&n.src)){const e=n.downloadFilename,t=document.createElement("a"),o=n.downloadSrc||n.src||"";t.href=o,t.target="_blank",t.download=e||o,t.click()}}else X("click",e)}function Te(e){var t;const n=e.el;n&&(null===(t=n.querySelector(".f-spinner"))||void 0===t||t.remove())}function Pe(e){var t;const n=e.el;n&&(null===(t=n.querySelector(".f-html.is-error"))||void 0===t||t.remove(),W(n,"has-error"))}function Ae(e){var t;e||(e=null===(t=_[T])||void 0===t?void 0:t.slides[0]);const n=null==e?void 0:e.el;if(!n)return;let o=Z("formatCaption",e);void 0===o&&(o=e.caption),o=o||"";const i=Z("captionEl");if(i&&i instanceof HTMLElement){if(e.index!==T)return;if(f(o)&&(i.innerHTML=G(o+"")),o instanceof HTMLElement){if(o.parentElement===i)return;i.innerHTML="",o.parentElement&&(o=o.cloneNode(!0)),i.append(o)}return}if(!o)return;let s=e.captionEl||n.querySelector(".f-caption");!s&&o instanceof HTMLElement&&o.classList.contains("f-caption")&&(s=o),s||(s=document.createElement("div"),N(s,"f-caption"),f(o)?s.innerHTML=G(o+""):o instanceof HTMLElement&&(o.parentElement&&(o=o.cloneNode(!0)),s.append(o)));const l=`f-caption-${fe}_${e.index}`;s.setAttribute("id",l),s.dataset.selectable="true",N(n,"has-caption"),n.setAttribute("aria-labelledby",l),e.captionEl=s,n.insertAdjacentElement("beforeend",s)}function Ce(e,t){var n,o;void 0===t&&(t={});let{transition:s,tween:r}=Object.assign({transition:u.transition,tween:u.tween},t||{});if(!m||!i)return;const a=_.length;if(!a)return;if(function(e,t){var n,o,s,l;if(!(m&&i&&t&&f(t)&&"tween"!==t))return!1;if((null===(n=_[T])||void 0===n?void 0:n.slides.length)>1)return!1;const r=_.length;let a=e>T?1:-1;e=w?(e%r+r)%r:h(0,e,r-1),x&&(a*=-1);const c=null===(o=_[T])||void 0===o?void 0:o.slides[0],d=null==c?void 0:c.index,g=null===(s=_[e])||void 0===s?void 0:s.slides[0],v=null==g?void 0:g.index,p=null===(l=_[e])||void 0===l?void 0:l.pos;if(void 0===v||void 0===d||d===v||L===p||Math.abs(ae()-((null==g?void 0:g.dim)||0))>1)return!1;O=!1,i.pause(),Se(),N(m,"in-transition"),L=C=p;const y=be(c),b=be(g);return ee(),y&&(F.add(d),y.style.transform="",y.addEventListener("animationend",Le),W(y,u.classes.isSelected),y.inert=!1,N(y,`f-${t}Out to-${a>0?"next":"prev"}`)),b&&(F.add(v),b.style.transform="",b.addEventListener("animationend",Le),N(b,u.classes.isSelected),b.inert=!1,N(b,`f-${t}In from-${a>0?"prev":"next"}`)),je(),!0}(e,s))return;e=w?(e%a+a)%a:h(0,e,a-1);const c=(null===(n=_[e||0])||void 0===n?void 0:n.pos)||0;C=c;const d=i.isRunning()?i.getEndValues().pos:L;if(Math.abs(C-d)<1)return L=C,T!==e&&(Ae(),l=T,T=e,te(),ne(),X("change",T,l)),je(),void(O||(O=!0,X("settle")));if(i.pause(),Se(),w){const e=ve(),t=Math.floor((d-(null===(o=_[0])||void 0===o?void 0:o.pos))/e)||0,n=C+t*e;C=[n+e,n,n-e].reduce((function(e,t){return Math.abs(t-d)<Math.abs(e-d)?t:e}))}!1!==s&&y(r)?i.spring(le({},u.tween,r)).from({pos:L}).to({pos:C}).start():(L=C,ee(),je(),O||(O=!0,X("settle")))}function Re(e){var t;let n=L;if(w&&!0!==e){const e=ve();n-=(Math.floor((L-(null===(t=_[0])||void 0===t?void 0:t.pos)||0)/e)||0)*e}return n}function je(){var e;if(!m||!b)return;$=me();const t=new Set,n=[],o=_[T],i=u.setTransform;let s;for(const i of I){const l=F.has(i.index),r=$.indexOf(i)>-1,a=(null===(e=null==o?void 0:o.slides)||void 0===e?void 0:e.indexOf(i))>-1;if(i.isVirtual&&!l&&!r)continue;let c=be(i);if(c&&(n.push(i),a&&t.add(c),Z("adaptiveHeight")&&a)){const e=(c.firstElementChild||c).getBoundingClientRect().height;s=null==s?e:Math.max(s,e)}}b&&s&&(b.style.height=`${s}px`),[...se(b,`.${u.classes.slide}`)].forEach((e=>{B(e,u.classes.isSelected,t.has(e));const n=k[parseInt(e.getAttribute("index")||"-1")];if(!n)return e.remove(),void Me(e);const o=F.has(n.index),s=$.indexOf(n)>-1;if(n.isVirtual&&!o&&!s)return void Ee(n);if(e.inert=!s,!1===i)return;let l=n.pos?Math.round(1e4*n.pos)/1e4:0,r=0,a=0,c=0,d=0;o||(r=M?0:x?-1*l:l,a=M?l:0,c=re(r,0,n.dim,0,100),d=re(a,0,n.dim,0,100)),i instanceof Function&&!o?i(Fe,n,{x:r,y:a,xPercent:c,yPercent:d}):e.style.transform=r||a?`translate3d(${c}%, ${d}%,0)`:""})),X("render",n)}function ze(){null==m||m.removeEventListener("click",Oe),document.removeEventListener("mousemove",K),F.clear(),null==s||s.disconnect(),s=void 0;for(const e of k){let t=e.el;t&&g(t)&&(e.state=void 0,Te(e),Pe(e),e.isVirtual?(Ee(e),e.el=void 0):(Me(t),t.style.transform="",b&&!b.contains(t)&&b.appendChild(t)))}for(const e of Object.values(d))null==e||e.destroy();d={},null==o||o.destroy(),o=void 0,null==i||i.destroy(),i=void 0;for(const[e,t]of Object.entries(u.classes||{}))"container"!==e&&W(m,t);W(b,"is-draggable")}function ke(){return w||T>0}function Ie(){return w||T<_.length-1}const Fe={add:function(e,t){var n;let o=L;const s=T,l=ve(),r=(null==i?void 0:i.isRunning())?i.getEndValues().pos:L,a=l&&Math.floor((r-((null===(n=_[0])||void 0===n?void 0:n.pos)||0))/l)||0;return pe(e,t),Q(z),xe(),i&&l&&(s===T&&(o-=a*l),o===C?L=C:i.spring({clamp:!0,mass:1,tension:300,friction:25,restDelta:1,restSpeed:1}).from({pos:o}).to({pos:C}).start()),je(),Fe},canGoPrev:ke,canGoNext:Ie,destroy:function(){return X("destroy"),window.removeEventListener("resize",U),ze(),Y.clear(),m=null,_=[],k=[],u=Object.assign({},ue),d={},I=[],r=void 0,z="*",a=2,Fe},emit:X,filter:function(e){return void 0===e&&(e="*"),Q(e),xe(),L=h(R,L,j),je(),X("filter",e),Fe},getContainer:function(){return m},getGapDim:ie,getGestures:function(){return o},getLastMouseMove:function(){return de},getOption:function(e){return Z(e)},getOptions:function(){return u},getPage:function(){return _[T]},getPageIndex:function(e){if(void 0!==e){for(const t of _||[])for(const n of t.slides)if(n.index===e)return t.index;return-1}return T},getPageIndexFromPosition:oe,getPageProgress:function(e,t){var n;void 0===e&&(e=T);const o=_[e];if(!o)return e>T?-1:1;const i=ve(),s=ie();let l=o.pos,r=Re();if(w&&!0!==t){const e=Math.floor((r-(null===(n=_[0])||void 0===n?void 0:n.pos))/i)||0;r-=e*i,l=[l+i,l,l-i].reduce((function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e}))}return(r-l)/(o.dim+s)||0},getPageVisibility:function(e){var t;void 0===e&&(e=T);const n=_[e];if(!n)return e>T?-1:1;const o=Re(),i=ae();let s=n.pos;if(w){const e=ve(),n=s+(Math.floor((o-(null===(t=_[0])||void 0===t?void 0:t.pos))/e)||0)*e;s=[n+e,n,n-e].reduce((function(e,t){return Math.abs(t-o)<Math.abs(e-o)?t:e}))}return s>o&&s+n.dim<o+i?1:s<o?(s+n.dim-o)/n.dim||0:s+n.dim>o+i&&(o+i-s)/n.dim||0},getPages:function(){return _},getPlugins:function(){return d},getPosition:Re,getSlides:function(){return k},getState:function(){return a},getTotalSlideDim:ve,getTween:function(){return i},getViewport:function(){return b},getViewportDim:ae,getVisibleSlides:function(e){return void 0===e?$:me(e)},goTo:Ce,hasNavigated:function(){return void 0!==l},hideError:Pe,hideLoading:Te,init:function(){if(!e||!g(e))throw new Error("No Element found");return 0!==a&&(ze(),a=0),m=e,c=t,window.removeEventListener("resize",U),c.breakpoints&&window.addEventListener("resize",U),U(),Fe},isInfinite:function(){return w},isInTransition:function(){return F.size>0},isRTL:function(){return x},isSettled:function(){return O},isVertical:function(){return M},localize:function(e,t){return void 0===t&&(t=[]),G(e,t)},next:function(e){return void 0===e&&(e={}),Ce(T+1,e),Fe},off:function(e,t){for(const n of e instanceof Array?e:[e])Y.has(n)&&Y.set(n,Y.get(n).filter((e=>e!==t)));return Fe},on:function(e,t){for(const n of e instanceof Array?e:[e])Y.set(n,[...Y.get(n)||[],t]);return Fe},prev:function(e){return void 0===e&&(e={}),Ce(T-1,e),Fe},reInit:function(e,o){return void 0===e&&(e={}),void 0===o&&(o={}),ze(),a=0,r=void 0,z="*",t=e,c=e,n=o,U(),Fe},remove:function(e){void 0===e&&(e=k.length-1);const t=k[e];return t&&(X("removeSlide",t),t.el&&(Me(t.el),t.el.remove(),t.el=void 0),k.splice(e,1),Q(z),xe(),L=h(R,L,j),je()),Fe},setPosition:function(e){L=e,ee(),je()},showError:function(e,t){Te(e),Pe(e);const n=e.el;if(n){const o=document.createElement("div");N(o,"f-html"),N(o,"is-error"),o.innerHTML=G(t||"<p>{{ERROR}}</p>"),e.htmlEl=o,N(n,"has-html"),N(n,"has-error"),n.insertAdjacentElement("afterbegin",o),X("contentReady",e)}return Fe},showLoading:function(e){const t=e.el,n=null==t?void 0:t.querySelector(".f-spinner");if(!t||n)return Fe;const o=Z("spinnerTpl"),i=p(o);return i&&(N(i,"f-spinner"),t.insertAdjacentElement("beforeend",i)),Fe},version:"6.1.5"};return Fe};ge.l10n={en_EN:ae},ge.getDefaults=()=>ue;const ve=function(e,t,n,o){void 0===e&&(e=!0),void 0===t&&(t="--f-scrollbar-compensate"),void 0===n&&(n="--f-body-margin"),void 0===o&&(o="hide-scrollbar");const i=document,s=i.body,l=i.documentElement;if(e){if(s.classList.contains(o))return;let e=window.innerWidth-l.getBoundingClientRect().width;e<0&&(e=0),l.style.setProperty(t,`${e}px`);const i=parseFloat(window.getComputedStyle(s).marginRight);i&&s.style.setProperty(n,`${i}px`),s.classList.add(o)}else s.classList.remove(o),s.style.setProperty(n,""),i.documentElement.style.setProperty(t,"")};function me(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}const pe=function(e,t,n){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),e.split(t).join(n)},he={tpl:e=>`<img class="f-panzoom__content" \n    ${e.srcset?'data-lazy-srcset="{{srcset}}"':""} \n    ${e.sizes?'data-lazy-sizes="{{sizes}}"':""} \n    data-lazy-src="{{src}}" alt="{{alt}}" />`},ye=()=>{let e;function t(t,n){const o=null==e?void 0:e.getOptions().Zoomable;let i=(y(o)?Object.assign(Object.assign({},he),o):he)[t];return i&&"function"==typeof i&&n?i(n):i}function n(){e&&!1!==e.getOptions().Zoomable&&(e.on("addSlide",s),e.on("removeSlide",l),e.on("attachSlideEl",r),e.on("click",i),e.on("change",o),e.on("ready",o))}function o(){a();const t=(null==e?void 0:e.getVisibleSlides())||[];if(t.length>1||"slide"===(null==e?void 0:e.getOption("transition")))for(const n of t){const t=n.panzoomRef;t&&((null==e?void 0:e.getPage().slides)||[]).indexOf(n)<0&&t.execute(X.ZoomTo,Object.assign({},t.getStartPosition()))}}function i(e,t){const n=t.target;n&&!t.defaultPrevented&&n.dataset.panzoomAction&&c(n.dataset.panzoomAction)}function s(n,o){const i=o.el;if(!e||!i||o.panzoomRef)return;const s=o.src||o.lazySrc||"",l=o.alt||o.caption||`Image #${o.index}`,r=o.srcset||o.lazySrcset||"",c=o.sizes||o.lazySizes||"";if(s&&f(s)&&!o.html&&(!o.type||"image"===o.type)){o.type="image",o.thumbSrc=o.thumbSrc||s;let e=t("tpl",o);e=pe(e,"{{src}}",s+""),e=pe(e,"{{srcset}}",r+""),e=pe(e,"{{sizes}}",c+""),i.insertAdjacentHTML("afterbegin",e)}const u=i.querySelector(".f-panzoom__content");if(!u)return;u.setAttribute("alt",l+"");const d=o.width&&"auto"!==o.width?parseFloat(o.width+""):"auto",g=o.height&&"auto"!==o.height?parseFloat(o.height+""):"auto",v=ie(i,Object.assign({width:d,height:g,classes:{container:"f-zoomable"},event:()=>null==e?void 0:e.getLastMouseMove(),spinnerTpl:()=>(null==e?void 0:e.getOption("spinnerTpl"))||""},t("Panzoom")));v.on("*",(function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];e&&("loading"===n&&(o.state=0),"loaded"===n&&(o.state=1),"error"===n&&(o.state=2,null==e||e.showError(o,"{{IMAGE_ERROR}}")),e.emit(`panzoom:${n}`,o,...s),"ready"===n&&e.emit("contentReady",o),o.index===(null==e?void 0:e.getPageIndex())&&a())})),o.panzoomRef=v}function l(e,t){t.panzoomRef&&(t.panzoomRef.destroy(),t.panzoomRef=void 0)}function r(e,t){const n=t.panzoomRef;if(n)switch(n.getState()){case 0:n.init();break;case 3:n.execute(X.ZoomTo,Object.assign(Object.assign({},n.getStartPosition()),{velocity:0}))}}function a(){var t,n;const o=(null==e?void 0:e.getContainer())||void 0,i=null===(n=null===(t=null==e?void 0:e.getPage())||void 0===t?void 0:t.slides[0])||void 0===n?void 0:n.panzoomRef;if(o)if(i)i.updateControls(o);else for(const e of o.querySelectorAll("[data-panzoom-action]")||[])e.setAttribute("aria-disabled",""),e.setAttribute("tabindex","-1")}function c(t){for(var n,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];null===(n=null==e?void 0:e.getPage().slides[0].panzoomRef)||void 0===n||n.execute(t,...i)}return{init:function(t){e=t,e.on("initPlugins",n)},destroy:function(){if(e){e.off("initPlugins",n),e.off("addSlide",s),e.off("removeSlide",l),e.off("attachSlideEl",r),e.off("click",i),e.off("change",o),e.off("ready",o);for(const t of e.getSlides())l(0,t)}e=void 0},execute:c}},be={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},Ee=()=>{let e,t;function n(){const t=null==e?void 0:e.getOptions().Sync;return y(t)?Object.assign(Object.assign({},be),t):be}function o(){const o=n().target;e&&o&&function(o){var d,f,g;e&&o&&(t=o,e.getOptions().classes=Object.assign(Object.assign({},e.getOptions().classes),{isSelected:""}),e.getOptions().initialSlide=(null===(f=null===(d=t.getPage())||void 0===d?void 0:d.slides[0])||void 0===f?void 0:f.index)||0,n().syncOnChange&&e.on("change",s),n().syncOnClick&&e.on("click",r),n().syncOnHover&&(null===(g=e.getViewport())||void 0===g||g.addEventListener("mouseover",a)),e&&t&&(e.on("ready",i),e.on("refresh",c),t.on("change",l),t.on("filter",u)))}(o)}function i(){d()}function s(){var n;if(e&&t){const o=(null===(n=e.getPage())||void 0===n?void 0:n.slides)||[],i=t.getPageIndex(o[0].index||0);i>-1&&t.goTo(i,e.hasNavigated()?void 0:{tween:!1,transition:!1}),d()}}function l(){var n;if(e&&t){const o=e.getPageIndex((null===(n=t.getPage())||void 0===n?void 0:n.slides[0].index)||0);o>-1&&e.goTo(o,t.hasNavigated()?void 0:{tween:!1,transition:!1}),d()}}function r(n,o){var i;if(!e||!t)return;if(null===(i=e.getTween())||void 0===i?void 0:i.isRunning())return;const s=null==e?void 0:e.getOptions().classes.slide;if(!s)return;const l=s?o.target.closest(`.${s}`):null;if(l){const e=parseInt(l.getAttribute("index")||"")||0,n=t.getPageIndex(e);t.goTo(n)}}function a(t){e&&r(0,t)}function c(){var n;if(e&&t){const o=e.getPageIndex((null===(n=t.getPage())||void 0===n?void 0:n.slides[0].index)||0);o>-1&&e.goTo(o,{tween:!1,transition:!1}),d()}}function u(n,o){e&&t&&(e.filter(o),l())}function d(){var n,o,i;if(!t)return;const s=(null===(o=null===(n=t.getPage())||void 0===n?void 0:n.slides[0])||void 0===o?void 0:o.index)||0;for(const t of(null==e?void 0:e.getSlides())||[])null===(i=t.el)||void 0===i||i.classList.toggle("is-selected",t.index===s)}return{init:function(t){e=t,e.on("initSlides",o)},destroy:function(){var n;null==e||e.off("ready",i),null==e||e.off("refresh",c),null==e||e.off("change",s),null==e||e.off("click",r),null===(n=null==e?void 0:e.getViewport())||void 0===n||n.removeEventListener("mouseover",a),null==t||t.off("change",l),null==t||t.off("filter",u),t=void 0,null==e||e.off("initSlides",o),e=void 0},getTarget:function(){return t}}},we={showLoading:!0,preload:1},xe="is-lazyloading",Me="is-lazyloaded",Se="has-lazyerror",Le=()=>{let e;function t(){const t=null==e?void 0:e.getOptions().Lazyload;return y(t)?Object.assign(Object.assign({},we),t):we}function n(n){var o;const i=n.el;if(!i)return;const s="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",l=Array.from(i.querySelectorAll(s));i.matches(s)&&l.push(i);for(const i of l){const s=i.dataset.lazySrc,l=i.dataset.lazySrcset,r=i.dataset.lazySizes,a=i.dataset.lazyBg,c=(i instanceof HTMLImageElement||i instanceof HTMLSourceElement)&&(s||l),u=i instanceof HTMLElement&&a;if(!c&&!u)continue;const d=s||l||a;if(d){if(c&&d){const a=null===(o=i.parentElement)||void 0===o?void 0:o.classList.contains("f-panzoom__wrapper");t().showLoading&&(null==e||e.showLoading(n)),i.addEventListener("load",(()=>{null==e||e.hideLoading(n),W(i,Se),i instanceof HTMLImageElement?i.decode().then((()=>{W(i,xe),N(i,Me)})):(W(i,xe),N(i,Me)),a||null==e||e.emit("lazyLoad:loaded",n,i,d)})),i.addEventListener("error",(()=>{null==e||e.hideLoading(n),W(i,xe),N(i,Se),a||null==e||e.emit("lazyLoad:error",n,i,d)})),i.classList.add("f-lazyload"),i.classList.add(xe),a||null==e||e.emit("lazyLoad:load",n,i,d),s&&(i.src=s),l&&(i.srcset=l),r&&(i.sizes=r)}else u&&(document.body.contains(i)||(document.createElement("img").src=a),i.style.backgroundImage=`url('${a}')`);delete i.dataset.lazySrc,delete i.dataset.lazySrcset,delete i.dataset.lazySizes,delete i.dataset.lazyBg}}}function o(){if(!e)return;const o=[...e.getVisibleSlides()],i=t().preload;if(i>0){const t=e.getPosition(),n=e.getViewportDim();o.push(...e.getVisibleSlides(t+n*i),...e.getVisibleSlides(t-n*i))}for(const e of o)n(e)}return{init:function(t){e=t,e.on("render",o)},destroy:function(){null==e||e.off("render",o),e=void 0}}},Oe='<svg width="24" height="24" viewBox="0 0 24 24" tabindex="-1">',Te="</svg>",Pe={prevTpl:Oe+'<path d="M15 3l-9 9 9 9"></path>'+Te,nextTpl:Oe+'<path d="M9 3l9 9-9 9"></path>'+Te},Ae=()=>{let e,t,n;function o(){const t=null==e?void 0:e.getOptions().Arrows;return y(t)?Object.assign(Object.assign({},Pe),t):Pe}function i(t){if(!e)return;const n=`<button data-carousel-go-${t} tabindex="0" class="f-button is-arrow is-${t}" title="{{${t.toUpperCase()}}}">`+o()[`${t}Tpl`]+"</button",i=p(e.localize(n))||void 0;return i&&N(i,o()[`${t}Class`]),i}function s(){var o;null==t||t.remove(),t=void 0,null==n||n.remove(),n=void 0,null===(o=null==e?void 0:e.getContainer())||void 0===o||o.classList.remove("has-arrows")}function l(){e&&!1!==e.getOptions().Arrows&&e.getPages().length>1?(function(){if(!e)return;const o=e.getViewport();o&&(t||(t=i("prev"),t&&o.insertAdjacentElement("beforebegin",t)),n||(n=i("next"),n&&o.insertAdjacentElement("afterend",n)),B(e.getContainer(),"has-arrows",!(!t&&!n)))}(),e&&(null==t||t.toggleAttribute("aria-disabled",!e.canGoPrev()),null==n||n.toggleAttribute("aria-disabled",!e.canGoNext()))):s()}return{init:function(t){e=t.on(["change","refresh"],l)},destroy:function(){s(),null==e||e.off(["change","refresh"],l),e=void 0}}},Ce='<circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/>',Re='<g><line x1="11" y1="8" x2="11" y2="14"></line></g>'+Ce,je={moveLeft:["moveLeft","MOVE_LEFT",'<path d="M5 12h14M5 12l6 6M5 12l6-6"/>'],moveRight:["moveRight","MOVE_RIGHT",'<path d="M5 12h14M13 18l6-6M13 6l6 6"/>'],moveUp:["moveUp","MOVE_UP",'<path d="M12 5v14M18 11l-6-6M6 11l6-6"/>'],moveDown:["moveDown","MOVE_DOWN",'<path d="M12 5v14M18 13l-6 6M6 13l6 6"/>'],zoomOut:["zoomOut","ZOOM_OUT",Ce],zoomIn:["zoomIn","ZOOM_IN",Re],toggleFull:["toggleFull","TOGGLE_FULL",Re],iterateZoom:["iterateZoom","ITERATE_ZOOM",Re],toggle1to1:["toggleFull","TOGGLE_FULL",'<path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/>'],rotateCCW:["rotateCCW","ROTATE_CCW",'<path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/>'],rotateCW:["rotateCW","ROTATE_CW",'<path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/>'],flipX:["flipX","FLIP_X",'<path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/>'],flipY:["flipY","FLIP_Y",'<path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/>'],reset:["reset","RESET",'<path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/>'],toggleFS:["toggleFS","TOGGLE_FS",'<g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g>']},ze={};for(const[e,t]of Object.entries(je))ze[e]={tpl:`<button data-panzoom-action="${t[0]}" class="f-button" title="{{${t[1]}}}"><svg>${t[2]}</svg></button>`};var ke;!function(e){e.Left="left",e.middle="middle",e.right="right"}(ke||(ke={}));const Ie=Object.assign({counter:{tpl:'<div class="f-counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},ze),Fe={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},$e=()=>{let e,t;function n(t){const n=null==e?void 0:e.getOptions().Toolbar;let o=(y(n)?Object.assign(Object.assign({},Fe),n):Fe)[t];return o&&"function"==typeof o&&e?o(e):o}function o(){var o,i;if(!(null==e?void 0:e.getOptions().Toolbar))return;if(!e||t)return;const s=e.getContainer();if(!s)return;let l=n("enabled");if(!l)return;const r=n("absolute"),a=e.getSlides().length>1;let c=!1,u=!1;for(const t of e.getSlides())t.panzoomRef&&(c=!0),(t.downloadSrc||"image"===t.type&&t.src)&&(u=!0);const d=(null===(o=e.getPlugins().Thumbs)||void 0===o?void 0:o.isEnabled())||!1,g=a&&e.getPlugins().Autoplay||!1,v=e.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if("auto"===l&&(l=c),!l)return;t=s.querySelector(".f-carousel__toolbar")||void 0,t||(t=document.createElement("div"),t.classList.add("f-carousel__toolbar"));const m=n("display"),h=le({},Ie,n("items"));for(const n of["left","middle","right"]){const o=m[n]||[],i=document.createElement("div");i.classList.add("f-carousel__toolbar__column"),i.classList.add(`is-${n}`);for(const t of o){let n;if(f(t)){if("counter"===t&&!a)continue;if("autoplay"===t&&!g)continue;if(ze[t]&&!c)continue;if("fullscreen"===t&&!v)continue;if("thumbs"===t&&!d)continue;if("download"===t&&!u)continue;n=h[t]}if(y(t)&&(n=t),n&&n.tpl){let t=e.localize(n.tpl);t=t.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const o=p(t);o&&("function"==typeof n.click&&e&&o.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),"function"==typeof n.click&&e&&n.click(e,t)})),i.append(o))}}t.append(i)}if(t.childElementCount){if(r&&t.classList.add("is-absolute"),!t.parentElement){const o=n("parentEl");o?o.insertAdjacentElement("afterbegin",t):null===(i=e.getViewport())||void 0===i||i.insertAdjacentElement("beforebegin",t)}s.contains(t)&&s.classList.add("has-toolbar")}}return{init:function(t){e=t,null==e||e.on("initSlides",o)},destroy:function(){var n;null==e||e.off("initSlides",o),null===(n=null==e?void 0:e.getContainer())||void 0===n||n.classList.remove("has-toolbar"),null==t||t.remove(),t=void 0},add:function(e,t){Ie[e]=t},isEnabled:function(){return!!t}}},_e={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},He=()=>{let e,t,n=!1,o=!1,i=!1,s=null;function l(t){const n=null==e?void 0:e.getOptions().Autoplay;let o=(y(n)?Object.assign(Object.assign({},_e),n):_e)[t];return o&&"function"==typeof o&&e?o(e):o}function r(){clearTimeout(t),t=void 0}function a(){if(!e||!n||i||o||t||!e.isSettled()||function(){var t;const n=(null===(t=null==e?void 0:e.getPage())||void 0===t?void 0:t.slides)||[];for(const e of n)if(0===e.state)return!0;return!1}())return;!function(){var t,n,o,i;if(!e)return;if(d(),!l("showProgressbar"))return;let r=l("progressbarParentEl");if(!r&&(null===(t=e.getPlugins().Toolbar)||void 0===t?void 0:t.isEnabled())&&(r=e.getContainer()),!r&&!0!==(null===(n=e.getPlugins().Toolbar)||void 0===n?void 0:n.isEnabled())){const t=(null===(o=e.getPages()[0])||void 0===o?void 0:o.slides)||[],n=(null===(i=e.getPage())||void 0===i?void 0:i.slides)||[];1===t.length&&1===n.length&&(r=n[0].el)}if(r||(r=e.getViewport()),!r)return;s=document.createElement("div"),N(s,"f-progressbar"),r.prepend(s);const a=l("timeout")||1e3;s.style.animationDuration=`${a}ms`}();const r=l("timeout");t=setTimeout((()=>{e&&n&&!o&&(e.isInfinite()||e.getPageIndex()!==e.getPages().length-1?e.next():e.goTo(0))}),r)}function c(){var t;if(!e||e.getPages().length<2||!1===e.getOptions().Autoplay)return;if(n)return;n=!0,e.emit("autoplay:start",l("timeout")),N(e.getContainer(),"has-autoplay"),null===(t=e.getTween())||void 0===t||t.on("start",h);const o=null==e?void 0:e.getContainer();o&&l("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(o.addEventListener("mouseenter",b,!1),o.addEventListener("mouseleave",E,!1)),e.on("change",m),e.on("settle",p),e.on("contentReady",g),e.on("panzoom:touchStart",u),e.on("panzoom:wheel",u),e.isSettled()&&a()}function u(){var t;if(r(),d(),e){if(n){e.emit("autoplay:end"),null===(t=e.getTween())||void 0===t||t.off("start",h);const n=e.getContainer();n&&(n.classList.remove("has-autoplay"),n.removeEventListener("mouseenter",b,!1),n.removeEventListener("mouseleave",E,!1))}e.off("change",m),e.off("settle",p),e.off("contentReady",g),e.off("panzoom:touchStart",u),e.off("panzoom:wheel",u)}n=!1,o=!1}function d(){s&&(s.remove(),s=null)}function f(){e&&e.getPages().length>1&&l("autoStart")&&c()}function g(){a()}function v(e,t){const n=t.target;n&&!t.defaultPrevented&&"toggle"===n.dataset.autoplayAction&&w.toggle()}function m(){!e||!(null==e?void 0:e.isInfinite())&&e.getPageIndex()===e.getPages().length-1?u():(d(),r())}function p(){a()}function h(){r(),d()}function b(){i=!0,n&&(d(),r())}function E(){i=!1,n&&!o&&(null==e?void 0:e.isSettled())&&a()}const w={init:function(t){e=t,e.on("ready",f),e.on("click",v)},destroy:function(){u(),null==e||e.off("ready",f),null==e||e.off("click",v),e=void 0},isEnabled:()=>n,pause:function(){o=!0,r()},resume:function(){o=!1,n&&!i&&a()},start(){c()},stop(){u()},toggle(){n?u():c()}};return w},De={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let Ve;const qe=()=>{let e,t,n,o,i,s=0,l=0,r=!0;function a(t){const n=null==e?void 0:e.getOptions().Thumbs;let o=(y(n)?Object.assign(Object.assign({},De),n):De)[t];return o&&"function"==typeof o&&e?o(e):o}function c(){if(!e)return!1;if(!1===(null==e?void 0:e.getOptions().Thumbs))return!1;let t=0;for(const n of e.getSlides())n.thumbSrc&&t++;return t>=a("minCount")}function u(){return"modern"===a("type")}function d(){return"scrollable"===a("type")}function f(){const t=[],n=(null==e?void 0:e.getSlides())||[];for(const e of n)t.push({index:e.index,class:e.thumbClass,html:g(e)});return t}function g(e){const t=e.thumb?e.thumb instanceof HTMLImageElement?e.thumb.src:e.thumb:e.thumbSrc||void 0,n=void 0===e.thumbAlt?`Thumbnail #${e.index}`:e.thumbAlt+"";let o=a("thumbTpl");return o=pe(o,"{{alt}}",n),o=pe(o,"{{src}}",t+""),o=pe(o,"{{index}}",`${e.index}`),o=pe(o,"{{page}}",`${e.index||1}`),o}function v(e){return`<div index="${e.index||0}" class="f-thumbs__slide ${e.class||""}">${e.html||""}</div>`}function m(t){var o;void 0===t&&(t=!1);const i=null==e?void 0:e.getContainer();if(!e||!i||n)return;if(!c())return;const s=(null===(o=a("Carousel"))||void 0===o?void 0:o.classes)||{};if(s.container=s.container||"f-thumbs",!n){const e=i.nextElementSibling;(null==e?void 0:e.classList.contains(s.container))&&(n=e)}if(!n){n=document.createElement("div");const e=a("parentEl");e?e.insertAdjacentElement("beforeend",n):i.insertAdjacentElement("afterend",n)}N(n,s.container),N(n,"f-thumbs"),N(n,`is-${a("type")}`),t&&N(n,"is-hidden")}function b(){if(!n||!d())return;o=document.createElement("div"),N(o,"f-thumbs__viewport");let t="";for(const e of f())"string"==typeof(e.html||"")&&(t+=v(e));o.innerHTML=t,n.append(o),n.addEventListener("click",(t=>{t.preventDefault();const n=t.target.closest("[index]"),o=parseInt((null==n?void 0:n.getAttribute("index"))||"-1");e&&o>-1&&e.goTo(o)})),i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target instanceof HTMLImageElement&&(e.target.src=e.target.getAttribute("data-lazy-src")+"",e.target.removeAttribute("data-lazy-src"),null==i||i.unobserve(e.target))}))}),{root:o,rootMargin:"100px"}),n.querySelectorAll("[data-lazy-src]").forEach((e=>{null==i||i.observe(e)})),null==e||e.emit("thumbs:ready")}function E(){var o;if(!Ve||!e||!n||d()||t)return;const i=f();if(!i.length)return;const c=le({},{Sync:{target:e},Lazyload:{preload:1},slides:i,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},center:!0,fill:!u(),infinite:!1,dragFree:!0,rtl:e.getOptions().rtl||!1,slidesPerPage:e=>{let t=0;return u()&&(function(){if(!u())return;if(!n)return;const e=e=>n&&parseFloat(getComputedStyle(n).getPropertyValue("--f-thumb-"+e))||0;s=e("width"),l=e("clip-width")}(),t=4*(s-l)),e&&e.getTotalSlideDim()<=e.getViewportDim()-t?1/0:1}},De.Carousel||{},a("Carousel")||{});t=Ve(n,c,{Sync:Ee,Lazyload:Le}),t.on("ready",(()=>{N(n,"is-syncing"),null==e||e.emit("thumbs:ready"),u()&&(null==e||e.on("render",S))})),t.on("destroy",(()=>{null==e||e.emit("thumbs:destroy")})),t.init(),null===(o=t.getGestures())||void 0===o||o.on("start",(()=>{r=!1})),t.on("click",((e,t)=>{const n=t.target;if(n){const e=n.matches("button")?n:n.firstElementChild;e&&e.matches("button")&&(t.preventDefault(),e.focus({preventScroll:!0}))}})),N(e.getContainer(),"has-thumbs"),R()}function w(){c()&&a("showOnStart")&&(m(),b())}function x(){var t;c()&&(E(),null==e||e.on("addSlide",O),null==e||e.on("removeSlide",T),null==e||e.on("click",P),null==e||e.on("refresh",A),null===(t=null==e?void 0:e.getGestures())||void 0===t||t.on("start",M),C(!0))}function M(){var e,t;r=!0,(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(t=document.activeElement)||void 0===t||t.blur())}function S(){var o,i;null==n||n.classList.toggle("is-syncing",!1===(null==e?void 0:e.hasNavigated())||(null===(o=null==e?void 0:e.getTween())||void 0===o?void 0:o.isRunning())),R(),(null===(i=null==e?void 0:e.getGestures())||void 0===i?void 0:i.isPointerDown())&&function(){if(!u())return;if(!e||!t)return;if(!r)return;const n=t.getTween(),o=t.getPages(),i=e.getPageIndex()||0,a=e.getPageProgress()||0;if(!(e&&o&&o[i]&&n))return;const c=n.isRunning()?n.getCurrentValues().pos:t.getPosition();if(void 0===c)return;let d=o[i].pos+a*(s-l);d=h(o[0].pos,d,o[o.length-1].pos),n.from({pos:c}).to({pos:d}).start()}()}function L(){r=!0,C()}function O(e,n){const s={html:g(n)};if(t)t.add(s,n.index);else if(o){const e=p(v(s));if(e){o.append(e);const t=e.querySelector("img");t&&(null==i||i.observe(t))}}}function T(e,n){var i;t?t.remove(n.index):o&&(null===(i=o.querySelector(`[index="${n.index}"]`))||void 0===i||i.remove())}function P(e,t){var o;const i=t.target;t.defaultPrevented||"toggle"!==(null===(o=null==i?void 0:i.dataset)||void 0===o?void 0:o.thumbsAction)||(n||(m(!0),b(),E()),n&&n.classList.toggle("is-hidden"))}function A(){C()}function C(t){if(void 0===t&&(t=!1),!e||!o||!d())return;const n=e.getPageIndex();o.querySelectorAll(".is-selected").forEach((e=>{e.classList.remove("is-selected")}));const i=o.querySelector(`[index="${n}"]`);if(i){i.classList.add("is-selected");const e=o.getBoundingClientRect(),n=i.getBoundingClientRect(),s=i.offsetTop-o.offsetTop-.5*e.height+.5*n.height,l=i.scrollLeft-o.scrollLeft-.5*e.width+.5*n.width;o.scrollTo({top:s,left:l,behavior:t?"instant":"smooth"})}}function R(){if(!u())return;if(!e||!t)return;const n=(null==t?void 0:t.getSlides())||[];let o=-.5*s;for(const t of n){const n=t.el;if(!n)continue;let i=e.getPageProgress(t.index)||0;i=Math.max(-1,Math.min(1,i)),i>-1&&i<1&&(o+=.5*s*(1-Math.abs(i))),i=Math.round(1e4*i)/1e4,o=Math.round(1e4*o)/1e4,n.style.setProperty("--progress",`${Math.abs(i)}`),n.style.setProperty("--shift",`${(null==e?void 0:e.isRTL())?-1*o:o}px`),i>-1&&i<1&&(o+=.5*s*(1-Math.abs(i)))}}return{init:function(t,n){Ve=n,e=t,e.on("ready",x),e.on("initSlides",w),e.on("change",L)},destroy:function(){var o,i;d()&&(null==e||e.emit("thumbs:destroy")),null==e||e.off("ready",x),null==e||e.off("initSlides",w),null==e||e.off("change",L),null==e||e.off("render",S),null==e||e.off("addSlide",O),null==e||e.off("click",P),null==e||e.off("refresh",A),null===(o=null==e?void 0:e.getGestures())||void 0===o||o.off("start",M),null===(i=null==e?void 0:e.getContainer())||void 0===i||i.classList.remove("has-thumbs"),e=void 0,null==t||t.destroy(),t=void 0,null==n||n.remove(),n=void 0},getCarousel:function(){return t},getContainer:function(){return n},getType:function(){return a("type")},isEnabled:c}},Ne={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},We=()=>{let e;function t(e,t){let n=t.src;if(!f(n))return;let o=t.type;if(!o){if(o||("#"===n.charAt(0)?o="inline":n.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?o="image":n.match(/\.(pdf)((\?|#).*)?$/i)?o="pdf":n.match(/\.(html|php)((\?|#).*)?$/i)&&(o="iframe")),!o){const e=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);e&&(n=`https://maps.google.${e[1]}/?ll=${(e[2]?e[2]+"&z="+Math.floor(parseFloat(e[3]))+(e[4]?e[4].replace(/^\//,"&"):""):e[4]+"").replace(/\?/,"&")}&output=${e[4]&&e[4].indexOf("layer=c")>0?"svembed":"embed"}`,o="gmap")}if(!o){const e=n.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);e&&(n=`https://maps.google.${e[1]}/maps?q=${e[2].replace("query=","q=").replace("api=1","")}&output=embed`,o="gmap")}t.src=n,t.type=o}}function n(t,n){"iframe"!==n.type&&"pdf"!==n.type&&"gmap"!==n.type||function(t){if(!e||!t.el||!t.src)return;const n=document.createElement("iframe");n.classList.add("f-iframe");for(const[t,o]of Object.entries(function(){const t=null==e?void 0:e.getOptions().Html;return y(t)?Object.assign(Object.assign({},Ne),t):Ne}().iframeAttr||{}))n.setAttribute(t,o);n.onerror=()=>{e&&1===e.getState()&&e.showError(t,"{{IFRAME_ERROR}}")},n.src=t.src;const o=document.createElement("div");if(o.classList.add("f-html"),o.append(n),t.width){let e=`${t.width}`;e.match(/^\d+$/)&&(e+="px"),o.style.maxWidth=`${e}`}if(t.height){let e=`${t.height}`;e.match(/^\d+$/)&&(e+="px"),o.style.maxHeight=`${e}`}if(t.aspectRatio){const e=t.el.getBoundingClientRect();o.style.aspectRatio=`${t.aspectRatio}`,o.style[e.width>e.height?"width":"height"]="auto",o.style[e.width>e.height?"maxWidth":"maxHeight"]="none"}t.contentEl=n,t.htmlEl=o,t.el.classList.add("has-html"),t.el.classList.add("has-iframe"),t.el.classList.add(`has-${t.type}`),t.el.prepend(o),e.emit("contentReady",t)}(n)}function o(t,n){var o,i;"iframe"!==n.type&&"pdf"!==n.type&&"gmap"!==n.type||(null==e||e.hideError(n),null===(o=n.contentEl)||void 0===o||o.remove(),n.contentEl=void 0,null===(i=n.htmlEl)||void 0===i||i.remove(),n.htmlEl=void 0)}return{init:function(i){e=i,e.on("addSlide",t),e.on("attachSlideEl",n),e.on("detachSlideEl",o)},destroy:function(){null==e||e.off("addSlide",t),null==e||e.off("attachSlideEl",n),null==e||e.off("detachSlideEl",o),e=void 0}}},Be=function(e,t){void 0===t&&(t={});const n=new URL(e),o=new URLSearchParams(n.search),i=new URLSearchParams;for(const[e,n]of[...o,...Object.entries(t)]){let t=n+"";if("t"===e){let e=t.match(/((\d*)m)?(\d*)s?/);e&&i.set("start",60*parseInt(e[2]||"0")+parseInt(e[3]||"0")+"")}else i.set(e,t)}let s=i+"",l=e.match(/#t=((.*)?\d+s)/);return l&&(s+=`#t=${l[1]}`),s},Ze={autoplay:!1,html5videoTpl:'<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},Ge=()=>{let e,t=!1;function n(){const t=null==e?void 0:e.getOptions().Video;return y(t)?Object.assign(Object.assign({},Ze),t):Ze}function o(){var t;return null===(t=null==e?void 0:e.getPage())||void 0===t?void 0:t.slides[0]}const i=t=>{var n;try{let o=JSON.parse(t.data);if("https://player.vimeo.com"===t.origin){if("ready"===o.event)for(let o of Array.from((null===(n=null==e?void 0:e.getContainer())||void 0===n?void 0:n.getElementsByClassName("f-iframe"))||[]))o instanceof HTMLIFrameElement&&o.contentWindow===t.source&&(o.dataset.ready="true")}else if(t.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===o.event){const e=document.getElementById(o.id);e&&(e.dataset.ready="true")}}catch(t){}};function s(e,t){const o=t.src;if(!f(o))return;let i=t.type;if(!i||"html5video"===i){const e=o.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);e&&(i="html5video",t.html5videoFormat=t.html5videoFormat||"video/"+("ogv"===e[1]?"ogg":e[1]))}if(!i||"youtube"===i){const e=o.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(e){const s=Object.assign(Object.assign({},n().youtube),t.youtube||{}),l=`www.youtube${s.nocookie?"-nocookie":""}.com`,r=Be(o,s),a=encodeURIComponent(e[2]);t.videoId=a,t.src=`https://${l}/embed/${a}?${r}`,t.thumb=t.thumb||`https://i.ytimg.com/vi/${a}/mqdefault.jpg`,i="youtube"}}if(!i||"vimeo"===i){const e=o.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(e){const s=Object.assign(Object.assign({},n().vimeo),t.vimeo||{}),l=Be(o,s),r=encodeURIComponent(e[2]),a=e[5]||"";t.videoId=r,t.src=`https://player.vimeo.com/video/${r}?${a?`h=${a}${l?"&":""}`:""}${l}`,i="vimeo"}}t.type=i}function l(t,o){"html5video"===o.type&&function(t){if(!e||!t.el||!t.src)return;const{el:o,src:i}=t;if(!o||!i)return;const s=t.html5videoTpl||n().html5videoTpl,l=t.html5videoFormat||n().html5videoFormat;if(!s)return;const r=t.poster||(t.thumb&&f(t.thumb)?t.thumb:""),a=p(s.replace(/\{\{src\}\}/gi,i+"").replace(/\{\{format\}\}/gi,l||"").replace(/\{\{poster\}\}/gi,r+""));if(!a)return;const c=document.createElement("div");c.classList.add("f-html"),c.append(a),t.contentEl=a,t.htmlEl=c,o.classList.add(`has-${t.type}`),o.prepend(c),u(t),e.emit("contentReady",t)}(o),"youtube"!==o.type&&"vimeo"!==o.type||function(t){if(!e||!t.el||!t.src)return;const o=document.createElement("iframe");o.classList.add("f-iframe"),o.setAttribute("id",`f-iframe_${t.videoId}`);for(const[e,t]of Object.entries(n().iframeAttr||{}))o.setAttribute(e,t);o.onload=()=>{var n;e&&1===e.getState()&&"youtube"===t.type&&(null===(n=o.contentWindow)||void 0===n||n.postMessage(JSON.stringify({event:"listening",id:o.getAttribute("id")}),"*"))},o.onerror=()=>{e&&1===e.getState()&&(null==e||e.showError(t,"{{IFRAME_ERROR}}"))},o.src=t.src;const i=document.createElement("div");i.classList.add("f-html"),i.append(o),t.contentEl=o,t.htmlEl=i,t.el.classList.add("has-html"),t.el.classList.add("has-iframe"),t.el.classList.add(`has-${t.type}`),t.el.prepend(i),u(t),e.emit("contentReady",t)}(o)}function r(e,t){var n,o;"html5video"!==t.type&&"youtube"!==t.type&&"vimeo"!==t.type||(null===(n=t.contentEl)||void 0===n||n.remove(),t.contentEl=void 0,null===(o=t.htmlEl)||void 0===o||o.remove(),t.htmlEl=void 0),t.poller&&clearTimeout(t.poller)}function a(){t=!1}function c(){if(t)return;t=!0;const e=o();(e&&void 0!==e.autoplay?e.autoplay:n().autoplay)&&(function(){var e;const t=o(),n=null==t?void 0:t.el;if(n&&"html5video"===(null==t?void 0:t.type))try{const e=n.querySelector("video");if(e){const t=e.play();void 0!==t&&t.then((()=>{})).catch((t=>{e.muted=!0,e.play()}))}}catch(e){}const i=null==t?void 0:t.htmlEl;i instanceof HTMLIFrameElement&&(null===(e=i.contentWindow)||void 0===e||e.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))}(),function(){const e=o(),t=null==e?void 0:e.type;if(!(null==e?void 0:e.el)||"youtube"!==t&&"vimeo"!==t)return;const n=()=>{if(e.contentEl&&e.contentEl instanceof HTMLIFrameElement&&e.contentEl.contentWindow){let t;if("true"===e.contentEl.dataset.ready)return t="youtube"===e.type?{event:"command",func:"playVideo"}:{method:"play",value:"true"},t&&e.contentEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);"youtube"===e.type&&(t={event:"listening",id:e.contentEl.getAttribute("id")},e.contentEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(n,250)};n()}())}function u(e){const t=null==e?void 0:e.htmlEl;if(e&&t&&("html5video"===e.type||"youtube"===e.type||"vimeo"===e.type)){if(t.style.aspectRatio="",t.style.width="",t.style.height="",t.style.maxWidth="",t.style.maxHeight="",e.width){let n=`${e.width}`;n.match(/^\d+$/)&&(n+="px"),t.style.maxWidth=`${n}`}if(e.height){let n=`${e.height}`;n.match(/^\d+$/)&&(n+="px"),t.style.maxHeight=`${n}`}if(e.aspectRatio){const n=e.aspectRatio.split("/"),o=parseFloat(n[0].trim()),i=n[1]?parseFloat(n[1].trim()):0,s=o&&i?o/i:o;t.offsetHeight;const l=t.getBoundingClientRect(),r=s<(l.width||1)/(l.height||1);t.style.aspectRatio=`${e.aspectRatio}`,t.style.width=r?"auto":"",t.style.height=r?"":"auto"}}}function d(){u(o())}return{init:function(t){e=t,e.on("addSlide",s),e.on("attachSlideEl",l),e.on("detachSlideEl",r),e.on("ready",c),e.on("change",a),e.on("settle",c),e.on("refresh",d),window.addEventListener("message",i)},destroy:function(){null==e||e.off("addSlide",s),null==e||e.off("attachSlideEl",l),null==e||e.off("detachSlideEl",r),null==e||e.off("ready",c),null==e||e.off("change",a),null==e||e.off("settle",c),null==e||e.off("refresh",d),window.removeEventListener("message",i),e=void 0}}},Ye={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},Xe="in-fullscreen-mode",Ue=()=>{let e;function t(t){const n=null==e?void 0:e.getOptions().Fullscreen;let o=(y(n)?Object.assign(Object.assign({},Ye),n):Ye)[t];return o&&"function"==typeof o&&e?o(e):o}function n(){var n;null===(n=null==e?void 0:e.getPlugins().Toolbar)||void 0===n||n.add("fullscreen",{tpl:t("btnTpl")})}function o(){if(t("autoStart")){const e=s();e&&r(e)}}function i(e,t){const n=t.target;n&&!t.defaultPrevented&&"toggle"===n.dataset.fullscreenAction&&c()}function s(){return t("el")||(null==e?void 0:e.getContainer())||void 0}function l(){const e=document;return e.fullscreenEnabled?!!e.fullscreenElement:!!e.webkitFullscreenEnabled&&!!e.webkitFullscreenElement}function r(e){const t=document;let n;return e||(e=t.documentElement),t.fullscreenEnabled?n=e.requestFullscreen():t.webkitFullscreenEnabled&&(n=e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),n&&n.then((()=>{e.classList.add(Xe)})),n}function a(){const e=document;let t;return e.fullscreenEnabled?t=e.fullscreenElement&&e.exitFullscreen():e.webkitFullscreenEnabled&&(t=e.webkitFullscreenElement&&e.webkitExitFullscreen()),t&&t.then((()=>{var e;null===(e=s())||void 0===e||e.classList.remove(Xe)})),t}function c(){if(l())a();else{const e=s();e&&r(e)}}return{init:function(t){e=t,e.on("initPlugins",n),e.on("ready",o),e.on("click",i)},destroy:function(){null==e||e.off("initPlugins",n),null==e||e.off("ready",o),null==e||e.off("click",i)},exit:a,inFullscreen:l,request:r,toggle:c}};let Ke,Je,Qe=!1,et=!1,tt=!1,nt=!1;const ot=()=>{const e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],o=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{urlHash:e,urlSlug:t.join("-"),urlIndex:o}},it=()=>{const e=null==Ke?void 0:Ke.getInstance();return!(!e||1!=e.getState())},st=()=>{if(!Ke)return;if(it())return;const{urlSlug:e,urlIndex:t}=ot();if(!e)return;let n=document.querySelector(`[data-slug="${e}"]`);n&&Ke.fromTriggerEl(n),it()||(n=document.querySelectorAll(`[data-fancybox="${e}"]`)[t-1],n&&Ke.fromTriggerEl(n,{startIndex:t-1})),it()&&n&&!n.closest("[inert]")&&n.scrollIntoView({behavior:"instant",block:"center",inline:"center"})},lt=()=>{if(!Ke)return;if(tt)return;const e=null==Ke?void 0:Ke.getInstance(),t=null==e?void 0:e.getCarousel();if(!1===(null==e?void 0:e.getOptions().Hash))return;const{urlSlug:n,urlIndex:o}=ot();if(e&&t){const i=t.getSlides();for(const e of i||[])if(n===e.slug||n===e.fancybox&&e.index===o-1)return et=!1,void t.goTo(e.index);nt=!0,e.close(),nt=!1}st()},rt=()=>{Ke&&(Je=setTimeout((()=>{Qe=!0,st(),Qe=!1}),300),window.addEventListener("hashchange",lt,!1))},at=()=>{let e,t="auto",n="";function o(){var o,s,l;if(!e||!e.isTopMost())return;if(!1===e.getOptions().Hash)return;if(Qe){const t=e.getOptions().sync;t&&t.goTo((null===(o=null==e?void 0:e.getCarousel())||void 0===o?void 0:o.getPageIndex())||0,{transition:!1,tween:!1})}const r=e.getCarousel();if(!r)return;const{urlHash:a,urlSlug:c}=ot(),u=e.getSlide();if(!u)return;let d=u.slug||u.fancybox||"",f=parseInt(u.index+"",10)+1;if(!d)return;let g=u.slug?`#${u.slug}`:`#${d}-${f}`;((null===(l=null===(s=e.getCarousel())||void 0===s?void 0:s.getPages())||void 0===l?void 0:l.length)||0)<2&&(g=`#${d}`),a!==g&&(n=a),history.scrollRestoration&&(t=history.scrollRestoration,history.scrollRestoration="manual"),r.on("change",i);const v=d!==c;try{window.history[v?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+g),v&&(et=!0)}catch(e){}}function i(){if(!e||!e.isTopMost())return;if(!1===e.getOptions().Hash)return;const t=e.getSlide();if(!t)return;let n=t.slug||t.fancybox||"",o=t.index+1,i=t.slug?`#${t.slug}`:`#${n}-${o}`;tt=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+i)}catch(e){}tt=!1}function s(){if(nt)return;if(!e||!e.isTopMost())return;if(!1===e.getOptions().Hash)return;const t=e.getSlide();if(t&&t.fancybox){tt=!0;try{et&&!function(){if(window.parent===window)return!1;try{var e=window.frameElement}catch(t){e=null}return null===e?"data:"===location.protocol:e.hasAttribute("sandbox")}()?window.history.back():window.history.replaceState({},document.title,window.location.pathname+window.location.search+n)}catch(e){}tt=!1}}return{init:function(t){clearTimeout(Je),e=t,e.on("ready",o),e.on("close",s)},destroy:function(){null==e||e.off("ready",o),null==e||e.off("close",s);const n=null==e?void 0:e.getCarousel();n&&n.off("change",i),e=void 0,history.scrollRestoration&&t&&(history.scrollRestoration=t)}}};at.startFromUrl=st,at.setup=function(e){Ke||(Ke=e,me()&&(/complete|interactive|loaded/.test(document.readyState)?rt():document.addEventListener("DOMContentLoaded",rt)))};const ct=Object.assign(Object.assign({},ae),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"}),ut='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24"><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';$e().add("close",{tpl:ut});const dt=e=>{e.cancelable&&e.preventDefault()},ft=function(e,t,n){if(void 0===e&&(e=null),void 0===t&&(t=""),!e||!e.parentElement||!t)return void(n&&n());gt(e);const o=i=>{i.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",o),delete e.dataset.animationName,n&&n(),e.classList.remove(t))};e.dataset.animationName=t,e.addEventListener("animationend",o),N(e,t)},gt=e=>{e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))};var vt;!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.Destroyed=3]="Destroyed"}(vt||(vt={}));const mt={ajax:null,backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:ct,mainClass:"",mainStyle:{},mainTpl:'<dialog class="fancybox__dialog">\n    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">\n      <div class="fancybox__backdrop"></div>\n      <div class="fancybox__carousel"></div>\n    </div>\n  </dialog>',modal:!0,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},pt=new Map;let ht=0;const yt="with-fancybox";function bt(e,t){var n,o,i;if(void 0===t&&(t={}),!(e&&e instanceof Element))return;let s,l,r,a,c={};for(const[t,n]of Et.openers)if(t.contains(e))for(const[o,i]of n){let n;if(o){for(const i of t.querySelectorAll(o))if(i.contains(e)){n=i;break}if(!n)continue}for(const[o,u]of i){let i=null;try{i=e.closest(o)}catch(e){}i&&(l=t,r=n,s=i,a=o,le(c,u||{}))}}if(!l||!a||!s)return;const u=le({},mt,t,c,{triggerEl:s});let d=[].slice.call((r||l).querySelectorAll(a));const f=s.closest(".f-carousel"),g=null==f?void 0:f.carousel;if(g&&(!r||!f.contains(r))){const e=[];for(const t of null==g?void 0:g.getSlides()){const n=t.el;n&&(n.matches(a)?e.push(n):e.push(...[].slice.call(n.querySelectorAll(a))))}e.length&&(d=[...e],null===(n=g.getPlugins().Autoplay)||void 0===n||n.pause(),null===(o=g.getPlugins().Autoscroll)||void 0===o||o.pause(),u.sync=g)}if(!1===u.groupAll){const e=u.groupAttr,t=e&&s?s.getAttribute(`${e}`):"";d=e&&t?d.filter((n=>n.getAttribute(`${e}`)===t)):[s]}if(!d.length)return;null===(i=u.triggerEvent)||void 0===i||i.preventDefault();const v=Et.getInstance();if(v){const e=v.getOptions().triggerEl;if(e&&d.indexOf(e)>-1)return}return Object.assign({},u.Carousel||{}).rtl&&(d=d.reverse()),s&&void 0===t.startIndex&&(u.startIndex=d.indexOf(s)),Et.fromNodes(d,u)}const Et={Plugins:{Hash:at},version:"6.1.5",openers:new Map,bind:function(e,t,n,o){if(!me())return;let i=document.body,s=null,l="[data-fancybox]",r={};e instanceof Element&&(i=e),f(e)&&f(t)?(s=e,l=t):f(t)&&f(n)?(s=t,l=n):f(t)?l=t:f(e)&&(l=e),"object"==typeof t&&(r=t||{}),"object"==typeof n&&(r=n||{}),"object"==typeof o&&(r=o||{}),function(e,t,n,o){if(void 0===o&&(o={}),!(e&&e instanceof Element&&n))return;const i=Et.openers.get(e)||new Map,s=i.get(t)||new Map;if(s.set(n,o),i.set(t,s),Et.openers.set(e,i),1===i.size&&e.addEventListener("click",Et.fromEvent),1===Et.openers.size)for(const e of Object.values(Et.Plugins)){const t=e.setup;"function"==typeof t&&t(Et)}}(i,s,l,r)},close:function(e){void 0===e&&(e=!0);for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)for(const e of pt.values())e.close(...n);else{const e=Et.getInstance();e&&e.close(...n)}},destroy:function(){let e;for(;e=Et.getInstance();)e.destroy();for(const e of Et.openers.keys())e.removeEventListener("click",Et.fromEvent);Et.openers.clear()},fromEvent:function(e){if(e.defaultPrevented)return;if(e.button&&0!==e.button)return;if(e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.composedPath()[0];const n={triggerEvent:e};if(t.closest(".fancybox__container.is-hiding"))return dt(e),void e.stopPropagation();const o=t.closest("[data-fancybox-delegate]")||void 0;if(o){const e=o.dataset.fancyboxDelegate||"",i=document.querySelectorAll(`[data-fancybox="${e}"]`),s=parseInt(o.dataset.fancyboxIndex||"",10)||0;t=i[s]||i[0],le(n,{delegateEl:o,startIndex:s})}return bt(t,n)},fromNodes:function(e,t){t=le({},mt,t||{});const n=[],o=e=>e instanceof HTMLImageElement?e:e instanceof HTMLElement?e.querySelector("img:not([aria-hidden])"):void 0;for(const i of e){const s=i.dataset||{},l=t.delegateEl&&e.indexOf(i)===t.startIndex?t.delegateEl:void 0,r=o(l)||o(i)||void 0,a=s.src||i.getAttribute("href")||i.getAttribute("currentSrc")||i.getAttribute("src")||void 0,c=s.thumb||s.thumbSrc||(null==r?void 0:r.getAttribute("currentSrc"))||(null==r?void 0:r.getAttribute("src"))||(null==r?void 0:r.dataset.lazySrc)||void 0,u={src:a,alt:s.alt||(null==r?void 0:r.getAttribute("alt"))||void 0,thumbSrc:c,thumbEl:r,triggerEl:i,delegateEl:l};for(const e in s){let t=s[e]+"";t="false"!==t&&("true"===t||t),u[e]=t}n.push(u)}return Et.show(n,t)},fromSelector:function(e,t,n,o){if(!me())return;let i=document.body,s=null,l="[data-fancybox]",r={};e instanceof Element&&(i=e),f(e)&&f(t)?(s=e,l=t):f(t)&&f(n)?(s=t,l=n):f(t)?l=t:f(e)&&(l=e),"object"==typeof t&&(r=t||{}),"object"==typeof n&&(r=n||{}),"object"==typeof o&&(r=o||{});for(const[e,t]of Et.openers)for(const[n,o]of t)for(const[t,a]of o)if(e===i&&n===s){const e=i.querySelector((n?`${n} `:"")+l);if(e&&e.matches(t))return Et.fromTriggerEl(e,r)}},fromTriggerEl:bt,getCarousel:function(){var e;return(null===(e=Et.getInstance())||void 0===e?void 0:e.getCarousel())||void 0},getDefaults:function(){return mt},getInstance:function(e){if(e){const t=pt.get(e);return t&&t.getState()!==vt.Destroyed?t:void 0}return Array.from(pt.values()).reverse().find((e=>{if(e.getState()!==vt.Destroyed)return e}))||void 0},getSlide:function(){var e;return(null===(e=Et.getInstance())||void 0===e?void 0:e.getSlide())||void 0},show:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t={}),(()=>{let e,t,n,o,i,s,l,r=vt.Init,a=Object.assign({},mt),c=-1,u={},d=[],m=!1,h=!0,b=0;function E(e){let t=a[e];for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t&&"function"==typeof t?t(ue,...o):t}function w(e,t){void 0===t&&(t=[]);const n=E("l10n")||{};e=String(e).replace(/\{\{(\w+)\}\}/g,((e,t)=>n[t]||e));for(let n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,((e,t)=>t))}const x=new Map;function M(e){const t=[...x.get(e)||[]];for(const[n,o]of Object.entries(a.on||{}))(n===e||n.split(" ").indexOf(e)>-1)&&t.push(o);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];for(const e of t)e&&"function"==typeof e&&e(ue,...o);"*"!==e&&M("*",e,...o)}function S(){W(t,"is-revealing");try{document.activeElement===e&&((null==t?void 0:t.querySelector("[autofocus]"))||t).focus()}catch(e){}}function L(e,t){var n;D(t),I(),null===(n=t.el)||void 0===n||n.addEventListener("click",T),"inline"!==t.type&&"clone"!==t.type||function(e){if(!o||!e||!e.el)return;let t=null;if(f(e.src)){const n=e.src.split("#",2).pop();t=n?document.getElementById(n):null}if(t){if(N(t,"f-html"),"clone"===e.type||t.closest(".fancybox__carousel")){t=t.cloneNode(!0);const n=t.dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);let o=t.getAttribute("id");o=o?`${o}--clone`:`clone-${c}-${e.index}`,t.setAttribute("id",o)}else if(t.parentNode){const n=document.createElement("div");n.inert=!0,t.parentNode.insertBefore(n,t),e.placeholderEl=n}e.htmlEl=t,N(e.el,"has-html"),e.el.prepend(t),t.classList.remove("hidden"),"none"===t.style.display&&(t.style.display=""),"none"===getComputedStyle(t).getPropertyValue("display")&&(t.style.display=t.dataset.display||"flex"),null==o||o.emit("contentReady",e)}else null==o||o.showError(e,"{{ELEMENT_NOT_FOUND}}")}(t),"ajax"===t.type&&function(e){const t=e.el;if(!t)return;if(e.htmlEl||e.xhr)return;null==o||o.showLoading(e),e.state=0;const n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&r===vt.Ready)if(null==o||o.hideLoading(e),e.state=1,200===n.status){let i=n.responseText+"",s=null,l=null;if(e.filter){const t=document.createElement("div");t.innerHTML=i,l=t.querySelector(e.filter+"")}l&&l instanceof HTMLElement?s=l:(s=document.createElement("div"),s.innerHTML=i),s.classList.add("f-html"),e.htmlEl=s,t.classList.add("has-html"),t.classList.add("has-ajax"),t.prepend(s),null==o||o.emit("contentReady",e)}else null==o||o.showError(e)};const i=E("ajax")||null;n.open(i?"POST":"GET",e.src+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(i),e.xhr=n}(t)}function O(e,t){var n;q(t),null===(n=t.el)||void 0===n||n.removeEventListener("click",T),"inline"!==t.type&&"clone"!==t.type||function(e){const t=e.htmlEl,n=e.placeholderEl;t&&("none"!==getComputedStyle(t).getPropertyValue("display")&&(t.style.display="none"),t.offsetHeight),n&&(t&&n.parentNode&&n.parentNode.insertBefore(t,n),n.remove()),e.htmlEl=void 0,e.placeholderEl=void 0}(t),t.xhr&&(t.xhr.abort(),t.xhr=void 0)}function T(e){if(!G())return;if(r!==vt.Ready)return dt(e),void e.stopPropagation();if(e.defaultPrevented)return;if(!V.isClickAllowed())return;const t=e.composedPath()[0];t.closest(".fancybox__carousel")&&t.classList.contains("fancybox__slide")&&F(e)}function C(){h=!1,t&&o&&t.classList.remove("is-revealing"),I();const e=E("sync");if(o&&e){const t=e.getPageIndex(o.getPageIndex())||0;e.goTo(t,{transition:!1,tween:!1})}}function R(){var e;!function(){const e=null==o?void 0:o.getViewport();if(!E("dragToClose")||!o||!e)return;if(i=V(e).init(),!i)return;let n=!1,l=0,a=0,c={},u=1;function d(){var e,t;null==s||s.spring({clamp:!0,mass:1,tension:0===a?140:960,friction:17,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:l}).to({y:a}).start();const n=(null===(e=null==o?void 0:o.getViewport())||void 0===e?void 0:e.getBoundingClientRect().height)||0,i=null===(t=Y())||void 0===t?void 0:t.panzoomRef;if(n&&i)if(0===a)i.execute(X.Reset);else{const e=re(Math.abs(l),0,.33*n,u,.77*u,!1);i.execute(X.ZoomTo,{scale:e})}}const f=e=>{var t;const n=e.srcEvent,i=n.target;return o&&!(A(n)&&(null===(t=n.touches)||void 0===t?void 0:t.length)>1)&&i&&!v(i)};s=P().on("step",(n=>{if(t&&e&&r===vt.Ready){const o=e.getBoundingClientRect().height;l=Math.min(o,Math.max(-1*o,n.y));const i=re(Math.abs(l),0,.5*o,1,0,!0);t.style.setProperty("--f-drag-opacity",i+""),t.style.setProperty("--f-drag-offset",l+"px")}})),i.on("start",(function(){n||(null==s||s.pause(),a=l)})).on("panstart",(e=>{var t,i;if(!n&&f(e)&&"y"===e.axis){dt(e.srcEvent),n=!0,ie(),null===(t=null==o?void 0:o.getViewport())||void 0===t||t.classList.add("is-dragging");const s=null===(i=Y())||void 0===i?void 0:i.panzoomRef;if(s){u=s.getTransform().scale||1;const e=s.getOptions();c=Object.assign({},e),e.bounds=!1,e.gestures=!1}}else n=!1})).on("pan",(function(e){n&&f(e)&&(dt(e.srcEvent),e.srcEvent.stopPropagation(),"y"===e.axis&&(a+=e.deltaY,d()))})).on("end",(e=>{var t,i,s;if(null===(t=null==o?void 0:o.getViewport())||void 0===t||t.classList.remove("is-dragging"),n){const t=null===(i=Y())||void 0===i?void 0:i.panzoomRef;if(t){null===(s=t.getTween())||void 0===s||s.end();const e=t.getOptions();e.bounds=c.bounds||!1,e.gestures=c.gestures||!1}f(e)&&"y"===e.axis&&(Math.abs(e.velocityY)>5||Math.abs(l)>50)&&se(e.srcEvent,"f-throwOut"+(e.velocityY>0?"Down":"Up"))}n=!1,r===vt.Ready&&0!==l&&(a=0,d())}))}(),document.body.addEventListener("click",H),document.body.addEventListener("keydown",_,{passive:!1,capture:!0}),I(),ee();const n=E("sync");o&&n&&(null===(e=n.getTween())||void 0===e||e.start()),Z(Y())}function j(){(null==o?void 0:o.canGoNext())?ee():oe()}function z(e,t){D(t),Z(t)}function k(){var e;const n=null==o?void 0:o.getPlugins().Thumbs;B(t,"has-thumbs",(null==n?void 0:n.isEnabled())||!1),B(t,"has-vertical-thumbs",!!n&&("scrollable"===n.getType()||!0===(null===(e=n.getCarousel())||void 0===e?void 0:e.isVertical())))}function I(){if(t){const e=(null==o?void 0:o.getPages())||[],n=(null==o?void 0:o.getPageIndex())||0;for(const e of t.querySelectorAll("[data-fancybox-index]"))e.innerHTML=n+"";for(const e of t.querySelectorAll("[data-fancybox-page]"))e.innerHTML=n+1+"";for(const n of t.querySelectorAll("[data-fancybox-pages]"))n.innerHTML=e.length+""}}function F(e){e.composedPath()[0].closest("[data-fancybox-close]")?se(e):(M("backdropClick",e),e.defaultPrevented||E("backdropClick")&&se(e))}function $(){ne()}function _(e){if(!G())return;if(r!==vt.Ready)return;const t=e.key,n=E("keyboard");if(!n)return;if(e.ctrlKey||e.altKey||e.shiftKey)return;const i=e.composedPath()[0];if(!g(i))return;if("Escape"!==t&&(e=>{const t=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return e.matches(t)||e.closest(t)})(i))return;if(M("keydown",e),e.defaultPrevented)return;const s=n[t];if(s)switch(s){case"close":se(e);break;case"next":dt(e),null==o||o.next();break;case"prev":dt(e),null==o||o.prev()}}function H(e){if(!G())return;if(r!==vt.Ready)return;if(ne(),e.defaultPrevented)return;const t=e.composedPath()[0],n=!!t.closest("[data-fancybox-close]"),o=t.classList.contains("fancybox__backdrop");(n||o)&&F(e)}function D(e){var t;const{el:n,htmlEl:i,panzoomRef:s,closeButtonEl:l}=e,r=s?s.getWrapper():i;if(!n||!n.parentElement||!r)return;let a=E("closeButton");if("auto"===a&&(a=!0!==(null===(t=null==o?void 0:o.getPlugins().Toolbar)||void 0===t?void 0:t.isEnabled())),a){if(!l){const t=p(w(ut));t&&(N(t,"is-close-button"),e.closeButtonEl=r.insertAdjacentElement("afterbegin",t),N(n,"has-close-btn"))}}else q(e)}function q(e){e.closeButtonEl&&(e.closeButtonEl.remove(),e.closeButtonEl=void 0),W(e.el,"has-close-btn")}function Z(e){if(!(h&&o&&1===o.getState()&&e&&e.index===o.getOptions().initialPage&&e.el&&e.el.parentElement))return;if(void 0!==e.state&&1!==e.state)return;h=!1;const t=e.panzoomRef,n=null==t?void 0:t.getTween(),i=E("zoomEffect")&&n?K(e):void 0;if(t&&n&&i){const{x:e,y:o,scale:s}=t.getStartPosition();return void n.spring({tension:215,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(i).to({x:e,y:o,scale:s}).start()}const s=(null==t?void 0:t.getContent())||e.htmlEl;s&&ft(s,E("showClass",e))}function G(){var e;return(null===(e=Et.getInstance())||void 0===e?void 0:e.getId())===c}function Y(){var e;return null===(e=null==o?void 0:o.getPage())||void 0===e?void 0:e.slides[0]}function U(){const e=Y();return e?e.triggerEl||E("triggerEl"):void 0}function K(e){var t,n;const o=e.thumbEl;if(!o||!(e=>{const t=e.getBoundingClientRect(),n=e.closest("[style]"),o=null==n?void 0:n.parentElement;if(n&&n.style.transform&&o){const e=o.getBoundingClientRect();if(t.left<e.left||t.left>e.left+e.width-t.width)return!1;if(t.top<e.top||t.top>e.top+e.height-t.height)return!1}const i=Math.max(document.documentElement.clientHeight,window.innerHeight),s=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(t.bottom<0||t.top-i>=0||t.right<0||t.left-s>=0)})(o))return;const i=null===(n=null===(t=e.panzoomRef)||void 0===t?void 0:t.getWrapper())||void 0===n?void 0:n.getBoundingClientRect(),s=null==i?void 0:i.width,l=null==i?void 0:i.height;if(!s||!l)return;const r=o.getBoundingClientRect();let a=r.width,c=r.height,u=r.left,d=r.top;if(r&&a&&c){if(o instanceof HTMLImageElement){const e=window.getComputedStyle(o).getPropertyValue("object-fit");if("contain"===e||"scale-down"===e){const{width:t,height:n}=function(e,t,n,o,i){if(void 0===i&&(i="contain"),"contain"===i||e>n||t>o){const i=n/e,s=o/t,l=Math.min(i,s);e*=l,t*=l}return{width:e,height:t}}(o.naturalWidth,o.naturalHeight,a,c,e);u+=.5*(a-t),d+=.5*(c-n),a=t,c=n}}if(!(Math.abs(s/l-a/c)>.1))return{x:u+.5*a-(i.left+.5*s),y:d+.5*c-(i.top+.5*l),scale:a/s}}}function Q(){l&&clearTimeout(l),l=void 0,document.removeEventListener("mousemove",$)}function ee(){if(m)return;if(l)return;const e=E("idle");e&&(l=setTimeout(te,e))}function te(){t&&(Q(),N(t,"is-idle"),document.addEventListener("mousemove",$),m=!0)}function ne(){m&&(oe(),ee())}function oe(){Q(),null==t||t.classList.remove("is-idle"),m=!1}function ie(){const e=U();var t;!e||(t=e.getBoundingClientRect()).bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)||e.closest("[inert]")||e.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}function se(e,t){var n,l,a,c,u;if(r===vt.Closing||r===vt.Destroyed)return;const d=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(M("shouldClose",d,e),d.defaultPrevented)return;if(Q(),e){if(e.defaultPrevented)return;dt(e),e.stopPropagation(),e.stopImmediatePropagation()}if(r=vt.Closing,null==s||s.pause(),null==i||i.destroy(),o){null===(n=o.getGestures())||void 0===n||n.destroy(),null===(l=o.getTween())||void 0===l||l.pause();for(const e of o.getSlides()){const t=e.panzoomRef;t&&(le(t.getOptions(),{clickAction:!1,dblClickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0}),null===(a=t.getGestures())||void 0===a||a.destroy(),null===(c=t.getTween())||void 0===c||c.pause())}}const f=null==o?void 0:o.getPlugins();null===(u=null==f?void 0:f.Autoplay)||void 0===u||u.stop();const g=null==f?void 0:f.Fullscreen;g&&g.inFullscreen()?Promise.resolve(g.exit()).then((()=>{setTimeout((()=>{ae(e,t)}),150)})):ae(e,t)}function ae(n,i){var s,l;if(r!==vt.Closing)return;M("close",n),h=!1,document.body.removeEventListener("click",H),document.body.removeEventListener("keydown",_,{passive:!1,capture:!0}),E("placeFocusBack")&&ie();const a=document.activeElement;a&&(null==e?void 0:e.contains(a))&&a.blur(),E("fadeEffect")&&(null==t||t.classList.remove("is-ready"),null==t||t.classList.add("is-hiding")),null==t||t.classList.add("is-closing");const c=Y(),u=null==c?void 0:c.el,d=null==c?void 0:c.panzoomRef,f=null===(s=null==c?void 0:c.panzoomRef)||void 0===s?void 0:s.getTween(),g=i||E("hideClass");let v=!1,m=!1;if(o&&c&&u&&d&&f){let e;if(E("zoomEffect")&&1===c.state&&(e=K(c)),e){v=!0;const t=()=>{e=K(c),e?f.to(Object.assign(Object.assign({},J),e)):ce()};d.on("refresh",(()=>{t()})),f.easing(P.Easings.EaseOut).duration(350).from(Object.assign({},d.getTransform())).to(Object.assign(Object.assign({},J),e)).start(),(null==u?void 0:u.getAnimations())&&(u.style.animationPlayState="paused",requestAnimationFrame((()=>{t()})))}}const p=(null==c?void 0:c.htmlEl)||(null===(l=null==c?void 0:c.panzoomRef)||void 0===l?void 0:l.getWrapper());p&&gt(p),!v&&g&&p&&(m=!0,ft(p,g,(()=>{ce()}))),v||m?setTimeout((()=>{ce()}),350):ce()}function ce(){var n,i,s,l,a;if(r===vt.Destroyed)return;r=vt.Destroyed;const d=U();M("destroy"),null===(i=null===(n=E("sync"))||void 0===n?void 0:n.getPlugins().Autoplay)||void 0===i||i.resume(),null===(l=null===(s=E("sync"))||void 0===s?void 0:s.getPlugins().Autoscroll)||void 0===l||l.resume(),e instanceof HTMLDialogElement&&e.close(),null===(a=null==o?void 0:o.getContainer())||void 0===a||a.classList.remove("is-idle"),null==o||o.destroy();for(const e of Object.values(u))null==e||e.destroy();if(u={},null==e||e.remove(),e=void 0,t=void 0,o=void 0,pt.delete(c),!pt.size&&(ve(!1),document.documentElement.classList.remove(yt),E("placeFocusBack")&&d&&!d.closest("[inert]")))try{null==d||d.focus({preventScroll:!0})}catch(n){}}const ue={close:se,destroy:ce,getCarousel:function(){return o},getContainer:function(){return t},getId:function(){return c},getOptions:function(){return a},getPlugins:function(){return u},getSlide:function(){return Y()},getState:function(){return r},init:function(i,s){void 0===i&&(i=[]),void 0===s&&(s={}),r!==vt.Init&&(ue.destroy(),r=vt.Init),a=le({},mt,s),c=E("id")||"fancybox-"+ ++ht;const l=pt.get(c);if(l&&l.destroy(),pt.set(c,ue),M("init"),function(){for(const[e,t]of Object.entries(Object.assign(Object.assign({},Et.Plugins),a.plugins||{})))if(e&&!u[e]&&t instanceof Function){const n=t();n.init(ue),u[e]=n}M("initPlugins")}(),function(e){void 0===e&&(e=[]),M("initSlides",e),d=[...e]}(i),function(){const n=E("parentEl")||document.body;if(!(n&&n instanceof HTMLElement))return;const i=w(E("mainTpl")||"");if(e=p(i)||void 0,!e)return;if(t=e.querySelector(".fancybox__container"),!(t&&t instanceof HTMLElement))return;const s=E("mainClass");s&&N(t,s);const l=E("mainStyle");if(l&&y(l))for(const[e,n]of Object.entries(l))t.style.setProperty(e,n);const r=E("theme"),a="auto"===r?window.matchMedia("(prefers-color-scheme:light)").matches:"light"===r;t.setAttribute("theme",a?"light":"dark"),e.setAttribute("id",`${c}`),e.addEventListener("keydown",(e=>{"Escape"===e.key&&dt(e)})),e.addEventListener("wheel",(e=>{const t=e.target;let n=E("wheel",e);t.closest(".f-thumbs")&&(n="slide");const i="slide"===n,s=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),l=Math.max(-1,Math.min(1,s)),r=Date.now();b&&r-b<300?i&&dt(e):(b=r,M("wheel",e,l),e.defaultPrevented||("close"===n?se(e):"slide"===n&&o&&!v(t)&&(dt(e),o[l>0?"prev":"next"]())))}),{capture:!0,passive:!1}),e.addEventListener("cancel",(e=>{se(e)})),n.append(e),1===pt.size&&(E("hideScrollbar")&&ve(!0),document.documentElement.classList.add(yt)),e instanceof HTMLDialogElement&&(E("modal")?e.showModal():e.show()),M("initLayout")}(),function(){if(n=(null==e?void 0:e.querySelector(".fancybox__carousel"))||void 0,!n)return;n.fancybox=ue;const i=le({},{Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:e=>{const t=e.getContainer();return(null==t?void 0:t.querySelector(".f-carousel__toolbar [data-autoplay-action]"))||t}},Fullscreen:{el:t},Toolbar:{absolute:!0,items:{counter:{tpl:'<div class="f-counter"><span data-fancybox-page></span>/<span data-fancybox-pages></span></div>'}},display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Thumbs:{minCount:2,Carousel:{classes:{container:"fancybox__thumbs"}}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:Ee,Arrows:Ae,Lazyload:Le,Zoomable:ye,Html:We,Video:Ge,Autoplay:He,Fullscreen:Ue,Thumbs:qe,Toolbar:$e}},E("Carousel")||{},{slides:d,enabled:!0,initialPage:E("startIndex")||0,l10n:E("l10n")});o=ge(n,i),M("initCarousel",o),o.on("*",(function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];M(`Carousel.${t}`,e,...o)})),o.on("attachSlideEl",L),o.on("detachSlideEl",O),o.on("contentReady",z),o.on("ready",R),o.on("change",C),o.on("settle",j),o.on("thumbs:ready",k),o.on("thumbs:destroy",k),o.init()}(),e&&t){if(E("closeExisting"))for(const[e,t]of pt.entries())e!==c&&t.close();E("fadeEffect")?(setTimeout((()=>{S()}),500),N(t,"is-revealing")):S(),t.classList.add("is-ready"),r=vt.Ready,M("ready")}},isCurrentSlide:function(e){const t=Y();return!(!e||!t)&&t.index===e.index},isTopMost:function(){return G()},off:function(e,t){return x.has(e)&&x.set(e,x.get(e).filter((e=>e!==t))),ue},on:function(e,t){return x.set(e,[...x.get(e)||[],t]),ue},toggleIdle(e){(m||!0===e)&&te(),m&&!1!==e||oe()}};return ue})().init(e,t)},unbind:function(e,t,n){if(!me())return;let o=document.body,i=null,s="[data-fancybox]";e instanceof Element&&(o=e),f(e)&&f(t)?(i=e,s=t):f(t)&&f(n)?(i=t,s=n):f(t)?s=t:f(e)&&(s=e),function(e,t,n){if(!(e&&e instanceof Element&&n))return;const o=Et.openers.get(e)||new Map,i=o.get(t)||new Map;i&&n&&i.delete(n),i.size&&n||o.delete(t),o.size||(Et.openers.delete(e),e.removeEventListener("click",Et.fromEvent))}(o,i,s)}};n().initializers.add("flectar/flarum-fancybox",(()=>{const e={Carousel:{infinite:!1,preload:1},Toolbar:{display:{left:["infobar"],middle:["rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","close"]}},Images:{zoom:!0},dragToClose:!0,Hash:!1},t={Toolbar:{display:{left:["infobar"],middle:["rotateCCW","rotateCW","flipX","flipY"],right:["close"]}},Images:{zoom:!0},dragToClose:!0,Hash:!1},n={Dots:!1,infinite:!1,dragFree:!1,preload:1};function i(o){o.children(".fancybox-gallery:not(.fancybox-ready)").addClass("fancybox-ready").each(((t,o)=>{ge(o,n).init(),Et.bind(o,'[data-fancybox="gallery"]',e)})),o.find('a[data-fancybox="single"]:not(.fancybox-ready)').length>0&&(o.find('a[data-fancybox="single"]').addClass("fancybox-ready"),Et.bind(o[0],'[data-fancybox="single"]',t))}(0,o.extend)(s().prototype,"refreshContent",(function(){if(this.isEditing())return;const e=this.$(".Post-body");0!==e.length&&i(e)})),c().prototype.excerpt=d().attribute("excerpt"),(0,o.extend)(r().prototype,"infoItems",(function(e){const t=this.attrs.discussion.excerpt();t&&(e.remove("excerpt"),e.add("excerpt",m.trust(t),-100))})),(0,o.extend)(r().prototype,"oncreate",(function(){const e=this.$(".item-excerpt");0!==e.length&&i(e)}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map